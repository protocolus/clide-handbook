<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Clide Handbook - Autonomous Development with Claude Code</title>
    <link rel="stylesheet" href="book-style.css">
    <style>
        /* Inline critical CSS for immediate rendering */
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; max-width: 900px; margin: 0 auto; padding: 2rem; }
        pre { background: #f6f8fa; padding: 1rem; overflow-x: auto; }
        code { background: #f6f8fa; padding: 0.125rem 0.375rem; font-family: monospace; }
    </style>
</head>
<body>
    <div class="title-page">
        <h1>The Clide Handbook</h1>
        <h2>Autonomous Development with Claude Code</h2>
        <p>By Claude Code Community</p>
    </div>
<div class='chapter'>
<h1 id="introduction-welcome-to-the-future-of-development">Introduction:
Welcome to the Future of Development</h1>
<blockquote>
<p>“The best developers are not those who write the most code, but those
who orchestrate the most intelligence.”</p>
</blockquote>
<h2 id="about-this-book">About This Book</h2>
<p>Welcome to <strong>The Clide Handbook: Orchestrating Autonomous
Development Workflows</strong>. This book will transform how you think
about software development, moving from manual coding to intelligent
automation that amplifies your capabilities.</p>
<h3 id="what-youll-learn">What You’ll Learn</h3>
<p>By the end of this book, you’ll be able to: - Set up autonomous
development workflows that fix bugs while you sleep - Configure Claude
Code with TypeScript and React for maximum productivity - Build custom
commands that automate your specific workflow patterns - Implement
comprehensive testing strategies with AI assistance - Create
self-healing CI/CD pipelines that adapt to your codebase - Orchestrate
complex multi-step development processes</p>
<h3 id="companion-repository">Companion Repository</h3>
<p><strong>All the code, configurations, and examples in this book are
available in the companion GitHub repository:</strong></p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/protocolus/clide-handbook</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> clide-handbook</span></code></pre></div>
<p>The repository structure:</p>
<pre><code>clide-handbook/
├── chapters/           # All book chapters in markdown
├── examples/          # Working code examples
│   ├── react-app/     # Complete React/TypeScript setup
│   ├── commands/      # Custom Claude commands
│   ├── workflows/     # Git worktree workflows
│   └── pipelines/     # CI/CD configurations
├── templates/         # Ready-to-use templates
│   ├── tsconfig/      # TypeScript configurations
│   ├── eslint/        # ESLint rule sets
│   ├── jest/          # Testing setups
│   └── mcp/           # MCP server configurations
└── tools/             # Helper scripts and utilities</code></pre>
<p>Don’t just read—clone the repository and follow along with working
examples!</p>
<h2 id="the-model-context-protocol-revolution">The Model Context
Protocol Revolution</h2>
<p>This book extensively covers <strong>Model Context Protocol
(MCP)</strong>, the breakthrough technology that enables Claude Code to
understand and interact with your development environment
intelligently.</p>
<h3 id="what-is-mcp">What is MCP?</h3>
<p>Model Context Protocol is an open standard that allows AI models to
securely access and interact with various data sources and tools. For
developers, this means:</p>
<ul>
<li><strong>Contextual Understanding</strong>: Claude Code can
understand your entire project structure, not just isolated files</li>
<li><strong>Tool Integration</strong>: Seamlessly integrate with
databases, APIs, file systems, and development tools</li>
<li><strong>Secure Access</strong>: Fine-grained permissions control
what the AI can and cannot access</li>
<li><strong>Extensible</strong>: Build custom MCP servers for your
specific tools and workflows</li>
</ul>
<h3 id="mcp-in-practice">MCP in Practice</h3>
<p>Throughout this book, you’ll see MCP in action:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Claude Code uses MCP to understand your project</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;analyze the entire user authentication system&quot;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># MCP enables secure database access</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;show me all users who haven&#39;t logged in for 30 days&quot;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co"># MCP connects to your monitoring tools</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;check production health across all services&quot;</span></span></code></pre></div>
<h3 id="context7-and-beyond">Context7 and Beyond</h3>
<p>Building on the principles established by Context7, this book shows
how MCP takes contextual AI to the next level:</p>
<ul>
<li><strong>Richer Context</strong>: Beyond file contents to understand
relationships, dependencies, and patterns</li>
<li><strong>Dynamic Context</strong>: Context that updates in real-time
as you work</li>
<li><strong>Intelligent Filtering</strong>: AI that knows what context
is relevant for each task</li>
<li><strong>Collaborative Context</strong>: Shared understanding across
team members</li>
</ul>
<h2 id="why-autonomous-development">Why Autonomous Development?</h2>
<p>Traditional development workflows are breaking down under the
complexity of modern software:</p>
<ul>
<li><strong>Context Switching</strong>: Developers spend 23 minutes
refocusing after each interruption</li>
<li><strong>Repetitive Tasks</strong>: 40% of development time spent on
tasks that could be automated</li>
<li><strong>Human Error</strong>: 70% of production bugs caused by
simple oversight</li>
<li><strong>Knowledge Silos</strong>: Critical knowledge trapped in
individual team members’ heads</li>
</ul>
<h3 id="the-autonomous-solution">The Autonomous Solution</h3>
<p>Autonomous development doesn’t replace developers—it amplifies
them:</p>
<pre class="mermaid"><code>graph LR
    A[Issue Reported] --&gt; B[AI Analysis]
    B --&gt; C[Automated Fix]
    C --&gt; D[AI Testing]
    D --&gt; E[Human Review]
    E --&gt; F[Auto Deploy]
    F --&gt; G[Monitoring]
    G --&gt; A</code></pre>
<p><strong>The result:</strong> Developers focus on architecture,
innovation, and complex problem-solving while AI handles the
routine.</p>
<h2 id="real-world-impact">Real-World Impact</h2>
<p>Teams using the patterns in this book report:</p>
<ul>
<li><strong>90% faster</strong> bug fix cycles</li>
<li><strong>60% reduction</strong> in production incidents</li>
<li><strong>3x increase</strong> in feature delivery velocity</li>
<li><strong>85% improvement</strong> in code consistency</li>
<li><strong>95% reduction</strong> in “forgot to test” bugs</li>
</ul>
<h2 id="who-this-book-is-for">Who This Book Is For</h2>
<h3 id="primary-audience">Primary Audience</h3>
<ul>
<li><strong>Senior Developers</strong> wanting to multiply their
impact</li>
<li><strong>Tech Leads</strong> looking to transform team
productivity</li>
<li><strong>DevOps Engineers</strong> seeking intelligent
automation</li>
<li><strong>Engineering Managers</strong> pursuing competitive
advantage</li>
</ul>
<h3 id="prerequisites">Prerequisites</h3>
<ul>
<li>Familiarity with JavaScript/TypeScript</li>
<li>Experience with React (helpful but not required)</li>
<li>Basic Git knowledge</li>
<li>Command-line comfort</li>
<li>Curiosity about AI-assisted development</li>
</ul>
<h2 id="how-to-use-this-book">How to Use This Book</h2>
<h3 id="linear-reading-path">Linear Reading Path</h3>
<p>Chapters 1-7 build foundational knowledge: 1.
<strong>Understanding</strong> the autonomous development paradigm 2.
<strong>Setting up</strong> your development environment 3.
<strong>Building</strong> custom commands and workflows 4.
<strong>Implementing</strong> comprehensive testing strategies 5.
<strong>Creating</strong> the Issue-to-PR pipeline 6.
<strong>Mastering</strong> advanced patterns</p>
<h3 id="reference-usage">Reference Usage</h3>
<p>Each chapter stands alone for reference: - Jump to specific patterns
you need - Copy configurations and adapt them - Use the companion
repository for quick starts</p>
<h3 id="hands-on-approach">Hands-On Approach</h3>
<p>This book is meant to be <strong>applied</strong>, not just read: -
Clone the repository before starting - Follow along with real examples -
Experiment with the provided templates - Adapt patterns to your specific
needs</p>
<h2 id="the-technology-stack">The Technology Stack</h2>
<p>This book focuses on a modern, practical stack:</p>
<ul>
<li><strong>Claude Code</strong>: The AI-powered development
assistant</li>
<li><strong>TypeScript</strong>: Type safety for reliable
automation</li>
<li><strong>React</strong>: Component-based UI development</li>
<li><strong>Jest + RTL</strong>: Comprehensive testing framework</li>
<li><strong>ESLint + Prettier</strong>: Code quality automation</li>
<li><strong>Git Worktrees</strong>: Parallel development workflows</li>
<li><strong>GitHub CLI</strong>: API-driven collaboration</li>
<li><strong>MCP</strong>: Intelligent context and tool integration</li>
</ul>
<h2 id="what-makes-this-different">What Makes This Different</h2>
<p>Unlike other AI development books that focus on simple code
generation, this book teaches you to build <strong>systems</strong>
that:</p>
<ul>
<li>Learn from your coding patterns</li>
<li>Adapt to your project’s specific needs</li>
<li>Work reliably without constant supervision</li>
<li>Integrate seamlessly with existing tools</li>
<li>Scale from individual developers to large teams</li>
</ul>
<h2 id="a-note-on-ai-ethics-and-human-agency">A Note on AI Ethics and
Human Agency</h2>
<p>Throughout this book, we maintain a clear principle: <strong>AI
should amplify human creativity, not replace human
judgment.</strong></p>
<p>The autonomous workflows we build: - Always include human oversight
for critical decisions - Provide clear audit trails for all actions -
Allow easy intervention and override - Respect privacy and security
boundaries - Enhance rather than diminish developer skills</p>
<h2 id="your-journey-starts-now">Your Journey Starts Now</h2>
<p>The future of software development is not about humans versus AI—it’s
about humans <strong>with</strong> AI creating software that was
previously impossible to build.</p>
<p>This book is your guide to that future. Let’s begin.</p>
<hr />
<p><strong>Ready to start?</strong> Clone the repository and dive into
Chapter 1:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/protocolus/clide-handbook</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> clide-handbook</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span> chapters/01-the-age-of-autonomous-development.md</span></code></pre></div>
<p><em>Continue to Chapter 1: The Age of Autonomous Development
→</em></p>
</div><hr>
<div class='chapter'>
<h1 id="chapter-1-the-age-of-autonomous-development">Chapter 1: The Age
of Autonomous Development</h1>
<blockquote>
<p>“The best code is the code that writes itself correctly.”</p>
</blockquote>
<h2 id="the-morning-that-changed-everything">The Morning That Changed
Everything</h2>
<p>Sarah stared at her monitor, coffee growing cold in her hand. It was
3 AM, and she was debugging a critical production issue—again. The same
kind of null pointer exception that had plagued the codebase for months.
Different file, same pattern. As she mechanically wrote yet another
defensive check, a thought crystallized: <em>What if the code could fix
itself?</em></p>
<p>Six months later, Sarah’s team had reduced their bug fix time by 90%.
Not through better processes or more developers, but by embracing a
radical shift: autonomous development workflows powered by AI.</p>
<h2 id="from-craft-to-orchestration">From Craft to Orchestration</h2>
<p>Software development has always been a deeply human endeavor. We’ve
prided ourselves on elegant algorithms, clean architectures, and clever
optimizations. But somewhere between the 10x engineer mythology and the
reality of fixing the same types of bugs repeatedly, we lost sight of a
fundamental truth: much of what we do is pattern matching.</p>
<p>Consider your last week of development: - How many times did you
write similar test cases? - How many bugs followed predictable patterns?
- How many pull requests needed the same type of changes? - How much
time did you spend on repetitive refactoring?</p>
<p>The transition to autonomous development doesn’t diminish the
craft—it elevates it. Instead of spending hours on repetitive tasks,
developers become orchestrators, teaching AI systems to handle the
predictable while they focus on the truly creative challenges.</p>
<h2 id="the-three-waves-of-developer-tools">The Three Waves of Developer
Tools</h2>
<h3 id="wave-1-automation-1950s-2000s">Wave 1: Automation
(1950s-2000s)</h3>
<p>The first wave gave us compilers, build systems, and testing
frameworks. We automated the mechanical transformation of source code
into executables. Developers wrote Makefiles, CI/CD pipelines, and test
suites. The human was still responsible for every line of logic.</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">make</span> clean <span class="kw">&amp;&amp;</span> <span class="fu">make</span> test <span class="kw">&amp;&amp;</span> <span class="fu">make</span> deploy</span></code></pre></div>
<h3 id="wave-2-assistance-2000s-2020s">Wave 2: Assistance
(2000s-2020s)</h3>
<p>The second wave brought IDEs with intelligent code completion, static
analysis, and refactoring tools. GitHub Copilot arrived, offering
line-by-line suggestions. Developers remained in the driver’s seat,
accepting or rejecting each suggestion.</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copilot suggests the next line</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_total(items):</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># return sum(item.price * item.quantity for item in items)</span></span></code></pre></div>
<h3 id="wave-3-autonomy-2020s-present">Wave 3: Autonomy
(2020s-Present)</h3>
<p>The third wave—where we are now—introduces truly autonomous
development. AI agents don’t just suggest; they plan, implement, test,
and even review their own work. The developer becomes a conductor,
orchestrating complex symphonies of automated development.</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Fix all type errors in the codebase, ensure tests pass&quot;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># AI analyzes, fixes, tests, and commits—autonomously</span></span></code></pre></div>
<h2 id="the-compound-effect-of-autonomous-workflows">The Compound Effect
of Autonomous Workflows</h2>
<p>The power of autonomous development isn’t in any single
automation—it’s in the compound effect of interconnected workflows.
Consider this real-world cascade:</p>
<ol type="1">
<li><strong>3:00 AM</strong>: Production monitoring detects an
anomaly</li>
<li><strong>3:01 AM</strong>: Automated system creates GitHub issue with
stack trace</li>
<li><strong>3:02 AM</strong>: Claude Code picks up the issue, analyzes
the codebase</li>
<li><strong>3:15 AM</strong>: AI creates a failing test that reproduces
the bug</li>
<li><strong>3:20 AM</strong>: AI implements a fix, ensures all tests
pass</li>
<li><strong>3:25 AM</strong>: AI creates pull request with detailed
explanation</li>
<li><strong>3:30 AM</strong>: Automated review approves safe
changes</li>
<li><strong>3:35 AM</strong>: Fix is deployed to production</li>
<li><strong>9:00 AM</strong>: Sarah arrives to find the issue resolved,
reviews the fix</li>
</ol>
<p>This isn’t science fiction. Teams are doing this today.</p>
<h2 id="why-now">Why Now?</h2>
<p>Three forces have converged to make autonomous development
possible:</p>
<h3 id="ai-capabilities">1. AI Capabilities</h3>
<p>Large Language Models like Claude have reached a threshold of
understanding. They can: - Comprehend complex codebases - Follow
multi-step instructions - Reason about edge cases - Generate
syntactically and semantically correct code - Learn from context and
patterns</p>
<h3 id="developer-infrastructure">2. Developer Infrastructure</h3>
<p>Modern tooling provides the foundation: - Git’s worktree feature
enables parallel development - GitHub’s CLI allows programmatic
interaction - Comprehensive testing frameworks verify correctness -
Container technology ensures consistent environments</p>
<h3 id="cultural-readiness">3. Cultural Readiness</h3>
<p>The developer community has embraced: - Infrastructure as Code -
GitOps workflows<br />
- Automated testing and deployment - AI pair programming</p>
<h2 id="the-promise-of-self-healing-software">The Promise of
Self-Healing Software</h2>
<p>Imagine software that: - Detects its own bugs through production
monitoring - Creates reproducible test cases automatically - Fixes
issues without human intervention - Learns from each fix to prevent
similar issues - Evolves its architecture based on usage patterns</p>
<p>This isn’t about replacing developers—it’s about amplifying their
impact. When routine fixes handle themselves, developers can focus on: -
Designing new features - Solving complex architectural challenges -
Improving user experience - Exploring innovative technologies</p>
<h2 id="a-new-mental-model">A New Mental Model</h2>
<p>Traditional development follows a linear path:</p>
<pre><code>Requirement → Design → Code → Test → Deploy → Monitor → Fix
     ↑                                                    ↓
     └────────────────────────────────────────────────────┘</code></pre>
<p>Autonomous development creates multiple feedback loops:</p>
<pre><code>Requirement → Design → Autonomous Implementation
     ↑           ↓              ↓
     ↑      AI Planning    AI Coding
     ↑           ↓              ↓
     ↑      AI Testing ← ← AI Review
     ↑           ↓
     ↑      Production
     ↑           ↓
     └──── AI Monitoring → Self-Healing</code></pre>
<p>Each loop can operate independently, with human oversight at key
decision points.</p>
<h2 id="the-challenges-ahead">The Challenges Ahead</h2>
<p>Autonomous development isn’t without challenges:</p>
<h3 id="trust-and-verification">Trust and Verification</h3>
<ul>
<li>How do we trust AI-generated code?</li>
<li>What safeguards prevent harmful changes?</li>
<li>How do we maintain code quality standards?</li>
</ul>
<h3 id="ownership-and-responsibility">Ownership and Responsibility</h3>
<ul>
<li>Who owns AI-generated code?</li>
<li>How do we handle AI mistakes?</li>
<li>What about security vulnerabilities?</li>
</ul>
<h3 id="human-skills-evolution">Human Skills Evolution</h3>
<ul>
<li>What skills become more valuable?</li>
<li>How do junior developers learn?</li>
<li>What is the new career progression?</li>
</ul>
<p>These challenges are real, but not insurmountable. Throughout this
book, we’ll address each one with practical solutions and proven
patterns.</p>
<h2 id="your-journey-starts-here">Your Journey Starts Here</h2>
<p>This book is your guide to mastering autonomous development with
Claude Code. You’ll learn: - How to design workflows that multiply your
productivity - Patterns for safe, reliable AI-driven development -
Techniques for teaching AI your codebase conventions - Strategies for
gradual adoption in existing projects - Methods for measuring and
improving AI effectiveness</p>
<p>Whether you’re a solo developer looking to amplify your impact or a
tech lead transforming your team’s velocity, the patterns in this book
will fundamentally change how you build software.</p>
<h2 id="whats-next">What’s Next</h2>
<p>In the following chapters, we’ll build your autonomous development
toolkit from the ground up: - Chapter 2 introduces Claude Code’s
capabilities - Chapter 3 walks through environment setup - Chapter 4
dives into creating custom commands - And by Chapter 7, you’ll build
your first fully autonomous issue-to-PR pipeline</p>
<p>But first, let’s acknowledge what this moment represents. We’re not
just adopting new tools—we’re pioneering a new way of creating software.
The age of autonomous development has arrived, and you’re among the
first to master it.</p>
<p>Welcome to the future of software engineering. Let’s build something
incredible together.</p>
<hr />
<p><em>Continue to Chapter 2: Understanding Claude Code →</em></p>
</div><hr>
<div class='chapter'>
<h1 id="chapter-2-understanding-claude-code">Chapter 2: Understanding
Claude Code</h1>
<blockquote>
<p>“Give a developer a fix, and you solve one bug. Teach an AI to fix,
and you solve a category of bugs forever.”</p>
</blockquote>
<h2 id="your-new-development-partner">Your New Development Partner</h2>
<p>Picture this: It’s Monday morning. You open your laptop to find
seventeen pull requests waiting—each one addressing a different
TypeScript error from Friday’s major refactor. The PRs have descriptive
commit messages, comprehensive tests, and even updated documentation.
Your team’s velocity chart shows a 300% increase in resolved issues.</p>
<p>The twist? Your team hasn’t grown. You’ve simply learned to code with
Claude.</p>
<h2 id="what-exactly-is-claude-code">What Exactly Is Claude Code?</h2>
<p>Claude Code is not just another AI coding assistant. It’s an
autonomous development agent that can:</p>
<ul>
<li><strong>Understand</strong> entire codebases, not just snippets</li>
<li><strong>Plan</strong> complex multi-step solutions</li>
<li><strong>Execute</strong> changes across multiple files</li>
<li><strong>Test</strong> implementations automatically</li>
<li><strong>Learn</strong> from your codebase patterns</li>
</ul>
<p>Think of it as having a senior developer who: - Never sleeps - Never
forgets a pattern - Loves writing tests - Actually enjoys updating
documentation - Can work on multiple problems simultaneously</p>
<h2 id="the-architecture-of-autonomy">The Architecture of Autonomy</h2>
<p>Claude Code operates through a sophisticated pipeline:</p>
<pre><code>User Intent → Context Analysis → Planning → Execution → Verification
      ↑                                                        ↓
      ←──────────────── Feedback Loop ─────────────────────────</code></pre>
<h3 id="context-analysis">1. Context Analysis</h3>
<p>Claude Code doesn’t just see the file you’re working on—it
understands: - Project structure and dependencies - Coding conventions
from existing files - Test patterns and coverage requirements -
TypeScript configurations and strictness levels - ESLint rules and
formatting preferences</p>
<h3 id="intelligent-planning">2. Intelligent Planning</h3>
<p>Before writing a single line, Claude Code: - Identifies all affected
files - Plans the order of changes - Predicts potential side effects -
Designs test strategies - Estimates complexity</p>
<h3 id="precise-execution">3. Precise Execution</h3>
<p>Unlike traditional code generation, Claude Code: - Maintains
consistent code style - Preserves existing patterns - Handles edge cases
- Updates related files (tests, types, docs) - Manages git
operations</p>
<h2 id="core-capabilities-deep-dive">Core Capabilities Deep Dive</h2>
<h3 id="file-system-mastery">File System Mastery</h3>
<p>Claude Code can navigate your project like a seasoned developer:</p>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Claude can search for patterns across your codebase</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Find all React components using deprecated lifecycle methods&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># It understands project structure</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Update all Button component imports after moving it to the design system&quot;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># It can refactor across files</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Convert all class components in src/legacy to functional components&quot;</span></span></code></pre></div>
<h3 id="intelligent-code-modification">Intelligent Code
Modification</h3>
<p>Watch Claude Code handle a complex TypeScript refactor:</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Before: Loosely typed API response</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> fetchUser <span class="op">=</span> <span class="kw">async</span> (id<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span><span class="dt">any</span><span class="op">&gt;</span> <span class="kw">=&gt;</span> {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="vs">`/api/users/</span><span class="sc">${</span>id<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> response<span class="op">.</span><span class="fu">json</span>()<span class="op">;</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="co">// Command: &quot;Add proper TypeScript types for all API responses&quot;</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="co">// After: Fully typed with error handling</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> User {</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  id<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  name<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  email<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  role<span class="op">:</span> <span class="st">&#39;admin&#39;</span> <span class="op">|</span> <span class="st">&#39;user&#39;</span> <span class="op">|</span> <span class="st">&#39;guest&#39;</span><span class="op">;</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  createdAt<span class="op">:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  preferences<span class="op">?:</span> UserPreferences<span class="op">;</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="kw">interface</span> ApiResponse<span class="op">&lt;</span>T<span class="op">&gt;</span> {</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  data<span class="op">:</span> T <span class="op">|</span> <span class="dt">null</span><span class="op">;</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  error<span class="op">:</span> <span class="dt">string</span> <span class="op">|</span> <span class="dt">null</span><span class="op">;</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  status<span class="op">:</span> <span class="dt">number</span><span class="op">;</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> fetchUser <span class="op">=</span> <span class="kw">async</span> (id<span class="op">:</span> <span class="dt">string</span>)<span class="op">:</span> <span class="bu">Promise</span><span class="op">&lt;</span>ApiResponse<span class="op">&lt;</span>User<span class="op">&gt;&gt;</span> <span class="kw">=&gt;</span> {</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  <span class="cf">try</span> {</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> response <span class="op">=</span> <span class="cf">await</span> <span class="fu">fetch</span>(<span class="vs">`/api/users/</span><span class="sc">${</span>id<span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>response<span class="op">.</span><span class="at">ok</span>) {</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> {</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>        data<span class="op">:</span> <span class="dt">null</span><span class="op">,</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>        error<span class="op">:</span> <span class="vs">`HTTP error! status: </span><span class="sc">${</span>response<span class="op">.</span><span class="at">status</span><span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>        status<span class="op">:</span> response<span class="op">.</span><span class="at">status</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> data <span class="op">=</span> <span class="cf">await</span> response<span class="op">.</span><span class="fu">json</span>()<span class="op">;</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> { data<span class="op">,</span> error<span class="op">:</span> <span class="dt">null</span><span class="op">,</span> status<span class="op">:</span> response<span class="op">.</span><span class="at">status</span> }<span class="op">;</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>  } <span class="cf">catch</span> (error) {</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>      data<span class="op">:</span> <span class="dt">null</span><span class="op">,</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>      error<span class="op">:</span> error <span class="kw">instanceof</span> <span class="bu">Error</span> <span class="op">?</span> error<span class="op">.</span><span class="at">message</span> <span class="op">:</span> <span class="st">&#39;Unknown error&#39;</span><span class="op">,</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>      status<span class="op">:</span> <span class="dv">0</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<h3 id="testing-intelligence">Testing Intelligence</h3>
<p>Claude Code doesn’t just write code—it ensures quality:</p>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Command</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Write comprehensive tests for the ShoppingCart component&quot;</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Claude Code will:</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 1. Analyze the component&#39;s props and state</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># 2. Identify user interactions</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># 3. Create test cases for happy paths</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># 4. Add edge case tests</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 5. Include accessibility tests</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 6. Mock external dependencies</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># 7. Ensure proper cleanup</span></span></code></pre></div>
<p>Example generated test:</p>
<div class="sourceCode" id="cb5"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { render<span class="op">,</span> <span class="bu">screen</span><span class="op">,</span> fireEvent<span class="op">,</span> waitFor } <span class="im">from</span> <span class="st">&#39;@testing-library/react&#39;</span><span class="op">;</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> userEvent <span class="im">from</span> <span class="st">&#39;@testing-library/user-event&#39;</span><span class="op">;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { ShoppingCart } <span class="im">from</span> <span class="st">&#39;./ShoppingCart&#39;</span><span class="op">;</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { CartProvider } <span class="im">from</span> <span class="st">&#39;../contexts/CartContext&#39;</span><span class="op">;</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { mockProducts } <span class="im">from</span> <span class="st">&#39;../__mocks__/products&#39;</span><span class="op">;</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="fu">describe</span>(<span class="st">&#39;ShoppingCart&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> renderWithProvider <span class="op">=</span> (ui<span class="op">:</span> React<span class="op">.</span><span class="at">ReactElement</span>) <span class="kw">=&gt;</span> {</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="fu">render</span>(<span class="op">&lt;</span>CartProvider<span class="op">&gt;</span>{ui}<span class="op">&lt;/</span>CartProvider<span class="op">&gt;</span>)<span class="op">;</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">beforeEach</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Clear mocks and reset state</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    jest<span class="op">.</span><span class="fu">clearAllMocks</span>()<span class="op">;</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    localStorage<span class="op">.</span><span class="fu">clear</span>()<span class="op">;</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describe</span>(<span class="st">&#39;Rendering&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;renders empty cart message when no items&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>      <span class="fu">renderWithProvider</span>(<span class="op">&lt;</span>ShoppingCart <span class="op">/&gt;</span>)<span class="op">;</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>      <span class="fu">expect</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByText</span>(<span class="ss">/your cart is empty/i</span>))<span class="op">.</span><span class="fu">toBeInTheDocument</span>()<span class="op">;</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;renders cart items when products are added&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>      <span class="fu">renderWithProvider</span>(<span class="op">&lt;</span>ShoppingCart items<span class="op">=</span>{mockProducts} <span class="op">/&gt;</span>)<span class="op">;</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>      mockProducts<span class="op">.</span><span class="fu">forEach</span>(product <span class="kw">=&gt;</span> {</span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>        <span class="fu">expect</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByText</span>(product<span class="op">.</span><span class="at">name</span>))<span class="op">.</span><span class="fu">toBeInTheDocument</span>()<span class="op">;</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describe</span>(<span class="st">&#39;User Interactions&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;updates quantity when increment button is clicked&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> user <span class="op">=</span> userEvent<span class="op">.</span><span class="fu">setup</span>()<span class="op">;</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">renderWithProvider</span>(<span class="op">&lt;</span>ShoppingCart items<span class="op">=</span>{[mockProducts[<span class="dv">0</span>]]} <span class="op">/&gt;</span>)<span class="op">;</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> incrementButton <span class="op">=</span> <span class="bu">screen</span><span class="op">.</span><span class="fu">getByLabelText</span>(<span class="ss">/increase quantity/i</span>)<span class="op">;</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>      <span class="cf">await</span> user<span class="op">.</span><span class="fu">click</span>(incrementButton)<span class="op">;</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>      <span class="cf">await</span> <span class="fu">waitFor</span>(() <span class="kw">=&gt;</span> {</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>        <span class="fu">expect</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByText</span>(<span class="st">&#39;2&#39;</span>))<span class="op">.</span><span class="fu">toBeInTheDocument</span>()<span class="op">;</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>      })<span class="op">;</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;removes item when remove button is clicked&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> user <span class="op">=</span> userEvent<span class="op">.</span><span class="fu">setup</span>()<span class="op">;</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> onRemove <span class="op">=</span> jest<span class="op">.</span><span class="fu">fn</span>()<span class="op">;</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>      <span class="fu">renderWithProvider</span>(</span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>ShoppingCart items<span class="op">=</span>{[mockProducts[<span class="dv">0</span>]]} onRemove<span class="op">=</span>{onRemove} <span class="op">/&gt;</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> removeButton <span class="op">=</span> <span class="bu">screen</span><span class="op">.</span><span class="fu">getByLabelText</span>(<span class="ss">/remove from cart/i</span>)<span class="op">;</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>      <span class="cf">await</span> user<span class="op">.</span><span class="fu">click</span>(removeButton)<span class="op">;</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>      <span class="fu">expect</span>(onRemove)<span class="op">.</span><span class="fu">toHaveBeenCalledWith</span>(mockProducts[<span class="dv">0</span>]<span class="op">.</span><span class="at">id</span>)<span class="op">;</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>  <span class="fu">describe</span>(<span class="st">&#39;Accessibility&#39;</span><span class="op">,</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;has no accessibility violations&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> { container } <span class="op">=</span> <span class="fu">renderWithProvider</span>(</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>        <span class="op">&lt;</span>ShoppingCart items<span class="op">=</span>{mockProducts} <span class="op">/&gt;</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> results <span class="op">=</span> <span class="cf">await</span> <span class="fu">axe</span>(container)<span class="op">;</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>      <span class="fu">expect</span>(results)<span class="op">.</span><span class="fu">toHaveNoViolations</span>()<span class="op">;</span></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>    <span class="fu">it</span>(<span class="st">&#39;supports keyboard navigation&#39;</span><span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> user <span class="op">=</span> userEvent<span class="op">.</span><span class="fu">setup</span>()<span class="op">;</span></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>      <span class="fu">renderWithProvider</span>(<span class="op">&lt;</span>ShoppingCart items<span class="op">=</span>{mockProducts} <span class="op">/&gt;</span>)<span class="op">;</span></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>      <span class="cf">await</span> user<span class="op">.</span><span class="fu">tab</span>()<span class="op">;</span></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>      <span class="fu">expect</span>(<span class="bu">screen</span><span class="op">.</span><span class="fu">getByLabelText</span>(<span class="ss">/increase quantity/i</span>))<span class="op">.</span><span class="fu">toHaveFocus</span>()<span class="op">;</span></span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>})<span class="op">;</span></span></code></pre></div>
<h2 id="understanding-limitations">Understanding Limitations</h2>
<p>Claude Code is powerful but not omniscient. Understanding its
limitations helps you use it effectively:</p>
<h3 id="context-windows">1. Context Windows</h3>
<ul>
<li>Claude Code works within context limits</li>
<li>Large codebases may require strategic chunking</li>
<li>Focus on specific modules or features</li>
</ul>
<h3 id="execution-boundaries">2. Execution Boundaries</h3>
<ul>
<li>Cannot access external services without explicit permissions</li>
<li>Cannot modify system files outside the project</li>
<li>Respects .gitignore and security boundaries</li>
</ul>
<h3 id="decision-making">3. Decision Making</h3>
<ul>
<li>Won’t make architectural decisions without guidance</li>
<li>Requires clear instructions for breaking changes</li>
<li>Needs human approval for critical operations</li>
</ul>
<h2 id="the-cli-interface">The CLI Interface</h2>
<p>Claude Code’s command-line interface is designed for developer
productivity:</p>
<h3 id="basic-commands">Basic Commands</h3>
<div class="sourceCode" id="cb6"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Simple task</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Fix the TypeScript error in App.tsx&quot;</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Complex task with specific requirements</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Refactor the authentication system to use React Context instead of Redux. Ensure all tests pass and update the documentation.&quot;</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Targeted task with tool restrictions</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Add error boundaries to all route components&quot;</span> <span class="at">--allowedTools</span> Edit Read</span></code></pre></div>
<h3 id="advanced-usage">Advanced Usage</h3>
<div class="sourceCode" id="cb7"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Custom commands</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;/project:fix-github-issue 1234&quot;</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Workflow automation</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Run the test suite and fix any failing tests. Focus on unit tests first.&quot;</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Code review</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Review the changes in the current branch and suggest improvements for type safety&quot;</span></span></code></pre></div>
<h2 id="real-world-scenarios">Real-World Scenarios</h2>
<h3 id="scenario-1-the-monday-morning-cleanup">Scenario 1: The Monday
Morning Cleanup</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Find and fix all ESLint errors in the codebase. Group similar fixes in separate commits with descriptive messages.&quot;</span></span></code></pre></div>
<p>Claude Code will: 1. Run ESLint across the project 2. Categorize
errors by type 3. Fix each category systematically 4. Create atomic
commits 5. Ensure no regressions</p>
<h3 id="scenario-2-the-type-safety-crusade">Scenario 2: The Type Safety
Crusade</h3>
<div class="sourceCode" id="cb9"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Migrate all &#39;any&#39; types to proper TypeScript interfaces. Create a types/ directory for shared interfaces.&quot;</span></span></code></pre></div>
<p>Claude Code will: 1. Scan for all <code>any</code> usage 2. Infer
proper types from usage 3. Create reusable interfaces 4. Update imports
across the project 5. Verify type safety with <code>tsc</code></p>
<h3 id="scenario-3-the-testing-sprint">Scenario 3: The Testing
Sprint</h3>
<div class="sourceCode" id="cb10"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Achieve 80% test coverage for the components/ directory. Focus on user interactions and edge cases.&quot;</span></span></code></pre></div>
<p>Claude Code will: 1. Analyze current coverage 2. Identify untested
components 3. Write comprehensive test suites 4. Include edge cases and
error states 5. Verify coverage goals are met</p>
<h2 id="integration-with-your-workflow">Integration with Your
Workflow</h2>
<p>Claude Code adapts to your existing workflow:</p>
<h3 id="git-integration">Git Integration</h3>
<div class="sourceCode" id="cb11"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Claude Code understands git</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Create a feature branch, implement dark mode for all components, and create a PR&quot;</span></span></code></pre></div>
<h3 id="cicd-awareness">CI/CD Awareness</h3>
<div class="sourceCode" id="cb12"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Claude Code can work with your pipeline</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Fix the failing CI build. Check the GitHub Actions logs for errors.&quot;</span></span></code></pre></div>
<h3 id="ide-coordination">IDE Coordination</h3>
<div class="sourceCode" id="cb13"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Claude Code respects your tooling</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Fix all problems shown in VS Code&#39;s Problems panel&quot;</span></span></code></pre></div>
<h2 id="when-to-use-claude-code">When to Use Claude Code</h2>
<p>Claude Code excels at: - ✅ Repetitive refactoring tasks - ✅
Comprehensive test writing - ✅ Type safety improvements - ✅ Bug fixing
with clear patterns - ✅ Code modernization - ✅ Documentation updates -
✅ Dependency updates</p>
<p>Use human developers for: - 🤔 Architecture decisions - 🤔 User
experience design - 🤔 Business logic design - 🤔 Performance
optimization strategies - 🤔 Security architecture - 🤔 API design
decisions</p>
<h2 id="your-first-autonomous-task">Your First Autonomous Task</h2>
<p>Let’s put Claude Code to work with a real task:</p>
<div class="sourceCode" id="cb14"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a new React component with full TypeScript types and tests</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;Create a ProgressBar component that:</span></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="st">- Accepts percentage (0-100) as a prop</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="st">- Has customizable color and height</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="st">- Includes ARIA attributes for accessibility</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a><span class="st">- Has smooth animations</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a><span class="st">- Includes comprehensive tests</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a><span class="st">- Follows our existing component patterns&quot;</span></span></code></pre></div>
<p>Watch as Claude Code: 1. Studies your existing components 2. Creates
<code>ProgressBar.tsx</code> with proper types 3. Adds styled-components
or CSS modules (based on your project) 4. Implements accessibility
features 5. Writes <code>ProgressBar.test.tsx</code> with full coverage
6. Updates the component index exports 7. Adds Storybook stories if you
use it</p>
<h2 id="the-learning-curve">The Learning Curve</h2>
<p>Mastering Claude Code follows a predictable progression:</p>
<p><strong>Week 1</strong>: Simple tasks, single-file changes
<strong>Week 2</strong>: Multi-file refactors, basic testing
<strong>Week 3</strong>: Complex workflows, custom commands
<strong>Month 2</strong>: Autonomous pipelines, team adoption
<strong>Month 3</strong>: Self-healing systems, advanced patterns</p>
<h2 id="whats-next">What’s Next?</h2>
<p>Now that you understand what Claude Code can do, it’s time to set up
your environment. In Chapter 3, we’ll walk through: - Installing Claude
Code CLI - Configuring TypeScript for AI workflows - Setting up ESLint
for autonomous development - Creating your first custom commands -
Integrating with your existing tools</p>
<p>Remember: Claude Code isn’t here to replace you—it’s here to amplify
what you can achieve. Every minute saved on repetitive tasks is a minute
gained for creative problem-solving.</p>
<p>Ready to 10x your development workflow? Let’s set up your
environment.</p>
<hr />
<p><em>Continue to Chapter 3: Setting Up Your Environment →</em></p>
</div><hr>
<div class='chapter'>
<h1 id="chapter-3-setting-up-your-environment">Chapter 3: Setting Up
Your Environment</h1>
<blockquote>
<p>“A well-configured environment is the difference between fighting
your tools and dancing with them.”</p>
</blockquote>
<h2 id="the-foundation-of-autonomous-development">The Foundation of
Autonomous Development</h2>
<p>Before we dive into configuration files and command lines, let’s
acknowledge a truth: most developers spend their first week with new
tools fighting configuration issues. We’re going to compress that week
into an hour, setting you up for success from the start.</p>
<p>This chapter will transform your development environment into an
autonomous powerhouse, with TypeScript catching errors before they
happen, ESLint enforcing consistency automatically, and Claude Code
orchestrating it all.</p>
<h2 id="prerequisites-checklist">Prerequisites Checklist</h2>
<p>Before we begin, ensure you have:</p>
<ul>
<li><strong>Node.js</strong> (v18 or higher)</li>
<li><strong>Git</strong> (v2.30 or higher for worktree support)</li>
<li><strong>A code editor</strong> (VS Code recommended)</li>
<li><strong>GitHub account</strong> with CLI access</li>
<li><strong>Terminal</strong> with bash or zsh</li>
</ul>
<p>Quick verification:</p>
<div class="sourceCode" id="cb1"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> <span class="at">--version</span>  <span class="co"># Should show v18.x.x or higher</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> <span class="at">--version</span>   <span class="co"># Should show 2.30 or higher</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="ex">gh</span> <span class="at">--version</span>    <span class="co"># GitHub CLI installed</span></span></code></pre></div>
<h2 id="installing-claude-code-cli">Installing Claude Code CLI</h2>
<h3 id="step-1-install-the-cli">Step 1: Install the CLI</h3>
<div class="sourceCode" id="cb2"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> install <span class="at">-g</span> @anthropic/claude-code-cli</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Verify installation</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">--version</span></span></code></pre></div>
<h3 id="step-2-authentication">Step 2: Authentication</h3>
<div class="sourceCode" id="cb3"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Set up your API key</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> auth login</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># You&#39;ll be prompted for your Anthropic API key</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Get one at: https://console.anthropic.com/account/keys</span></span></code></pre></div>
<h3 id="step-3-clone-the-companion-repository">Step 3: Clone the
Companion Repository</h3>
<div class="sourceCode" id="cb4"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Get all the book&#39;s examples and templates</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/protocolus/clide-handbook</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> clide-handbook</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy example configurations to your project</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> <span class="at">-r</span> examples/react-app/.claude ./</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> examples/react-app/.mcp.json ./</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="fu">cp</span> examples/react-app/tsconfig.json ./</span></code></pre></div>
<h3 id="step-4-verify-setup">Step 4: Verify Setup</h3>
<div class="sourceCode" id="cb5"><pre
class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Test basic functionality</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="ex">claude</span> <span class="at">-p</span> <span class="st">&quot;What version of Claude am I running?&quot;</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Should respond with version information</span></span></code></pre></div>
<h2 id="typescript-configuration-for-ai-development">TypeScript
Configuration for AI Development</h2>
<p>TypeScript is crucial for autonomous development—it provides the
guardrails that let AI code with confidence.</p>
<h3 id="the-ultimate-tsconfig.json">The Ultimate tsconfig.json</h3>
<p>Create a <code>tsconfig.json</code> that maximizes type safety:</p>
<div class="sourceCode" id="cb6"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;compilerOptions&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">Strict</span> <span class="er">type</span> <span class="er">checking</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;strict&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;noImplicitAny&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;strictNullChecks&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;strictFunctionTypes&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;strictBindCallApply&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;strictPropertyInitialization&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;noImplicitThis&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;alwaysStrict&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">Additional</span> <span class="er">checks</span> <span class="er">for</span> <span class="er">AI</span> <span class="er">safety</span></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;noUnusedLocals&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;noUnusedParameters&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;noImplicitReturns&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;noFallthroughCasesInSwitch&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;noUncheckedIndexedAccess&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">React</span> <span class="er">configuration</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;jsx&quot;</span><span class="fu">:</span> <span class="st">&quot;react-jsx&quot;</span><span class="fu">,</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lib&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;dom&quot;</span><span class="ot">,</span> <span class="st">&quot;dom.iterable&quot;</span><span class="ot">,</span> <span class="st">&quot;esnext&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;module&quot;</span><span class="fu">:</span> <span class="st">&quot;esnext&quot;</span><span class="fu">,</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;target&quot;</span><span class="fu">:</span> <span class="st">&quot;es2015&quot;</span><span class="fu">,</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">Module</span> <span class="er">resolution</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;moduleResolution&quot;</span><span class="fu">:</span> <span class="st">&quot;node&quot;</span><span class="fu">,</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;allowSyntheticDefaultImports&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;esModuleInterop&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;resolveJsonModule&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;isolatedModules&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">Output</span></span>
<span id="cb6-34"><a href="#cb6-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;noEmit&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-35"><a href="#cb6-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;skipLibCheck&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-36"><a href="#cb6-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;forceConsistentCasingInFileNames&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb6-37"><a href="#cb6-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-38"><a href="#cb6-38" aria-hidden="true" tabindex="-1"></a>    <span class="er">//</span> <span class="er">Path</span> <span class="er">mapping</span></span>
<span id="cb6-39"><a href="#cb6-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;baseUrl&quot;</span><span class="fu">:</span> <span class="st">&quot;.&quot;</span><span class="fu">,</span></span>
<span id="cb6-40"><a href="#cb6-40" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;paths&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb6-41"><a href="#cb6-41" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;@/*&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;src/*&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb6-42"><a href="#cb6-42" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;@components/*&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;src/components/*&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb6-43"><a href="#cb6-43" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;@hooks/*&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;src/hooks/*&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb6-44"><a href="#cb6-44" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;@utils/*&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;src/utils/*&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb6-45"><a href="#cb6-45" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;@types/*&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;src/types/*&quot;</span><span class="ot">]</span></span>
<span id="cb6-46"><a href="#cb6-46" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb6-47"><a href="#cb6-47" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb6-48"><a href="#cb6-48" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;include&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb6-49"><a href="#cb6-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;src/**/*&quot;</span></span>
<span id="cb6-50"><a href="#cb6-50" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb6-51"><a href="#cb6-51" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;exclude&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb6-52"><a href="#cb6-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;node_modules&quot;</span><span class="ot">,</span></span>
<span id="cb6-53"><a href="#cb6-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;build&quot;</span><span class="ot">,</span></span>
<span id="cb6-54"><a href="#cb6-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;dist&quot;</span><span class="ot">,</span></span>
<span id="cb6-55"><a href="#cb6-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;coverage&quot;</span></span>
<span id="cb6-56"><a href="#cb6-56" aria-hidden="true" tabindex="-1"></a>  <span class="ot">]</span></span>
<span id="cb6-57"><a href="#cb6-57" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="typescript-for-react-components">TypeScript for React
Components</h3>
<p>Create a <code>src/types/react.d.ts</code> file for common React
types:</p>
<div class="sourceCode" id="cb7"><pre
class="sourceCode typescript"><code class="sourceCode typescript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Strict component prop types</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="im">export type</span> StrictPropsWithChildren<span class="op">&lt;</span>P <span class="op">=</span> {}<span class="op">&gt;</span> <span class="op">=</span> P <span class="op">&amp;</span> {</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  children<span class="op">?:</span> React<span class="op">.</span><span class="at">ReactNode</span><span class="op">;</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">// Event handler types</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="im">export type</span> ClickHandler <span class="op">=</span> (event<span class="op">:</span> React<span class="op">.</span><span class="at">MouseEvent</span><span class="op">&lt;</span><span class="bu">HTMLElement</span><span class="op">&gt;</span>) <span class="kw">=&gt;</span> <span class="kw">void</span><span class="op">;</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a><span class="im">export type</span> ChangeHandler <span class="op">=</span> (event<span class="op">:</span> React<span class="op">.</span><span class="at">ChangeEvent</span><span class="op">&lt;</span><span class="bu">HTMLInputElement</span><span class="op">&gt;</span>) <span class="kw">=&gt;</span> <span class="kw">void</span><span class="op">;</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a><span class="im">export type</span> FormHandler <span class="op">=</span> (event<span class="op">:</span> React<span class="op">.</span><span class="at">FormEvent</span><span class="op">&lt;</span><span class="bu">HTMLFormElement</span><span class="op">&gt;</span>) <span class="kw">=&gt;</span> <span class="kw">void</span><span class="op">;</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co">// Async component props</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a><span class="im">export type</span> AsyncComponentProps<span class="op">&lt;</span>T<span class="op">&gt;</span> <span class="op">=</span> {</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  loading<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>  error<span class="op">?:</span> <span class="bu">Error</span> <span class="op">|</span> <span class="dt">null</span><span class="op">;</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>  data<span class="op">?:</span> T<span class="op">;</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>  retry<span class="op">?:</span> () <span class="kw">=&gt;</span> <span class="dt">void</span><span class="op">;</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a><span class="co">// Strict form types</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a><span class="im">export</span> <span class="kw">interface</span> FormField<span class="op">&lt;</span>T <span class="op">=</span> <span class="dt">string</span><span class="op">&gt;</span> {</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>  value<span class="op">:</span> T<span class="op">;</span></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>  error<span class="op">?:</span> <span class="dt">string</span><span class="op">;</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  touched<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>  required<span class="op">?:</span> <span class="dt">boolean</span><span class="op">;</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<h2 id="eslint-configuration-for-autonomous-workflows">ESLint
Configuration for Autonomous Workflows</h2>
<p>ESLint becomes even more critical when AI is writing code. Here’s a
configuration that ensures consistency:</p>
<h3 id="eslintrc.js">.eslintrc.js</h3>
<div class="sourceCode" id="cb8"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>module<span class="op">.</span><span class="at">exports</span> <span class="op">=</span> {</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">root</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">parser</span><span class="op">:</span> <span class="st">&#39;@typescript-eslint/parser&#39;</span><span class="op">,</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">parserOptions</span><span class="op">:</span> {</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ecmaVersion</span><span class="op">:</span> <span class="dv">2020</span><span class="op">,</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">sourceType</span><span class="op">:</span> <span class="st">&#39;module&#39;</span><span class="op">,</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ecmaFeatures</span><span class="op">:</span> {</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>      <span class="dt">jsx</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">project</span><span class="op">:</span> <span class="st">&#39;./tsconfig.json&#39;</span><span class="op">,</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">settings</span><span class="op">:</span> {</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">react</span><span class="op">:</span> {</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>      <span class="dt">version</span><span class="op">:</span> <span class="st">&#39;detect&#39;</span><span class="op">,</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>  <span class="dt">extends</span><span class="op">:</span> [</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;eslint:recommended&#39;</span><span class="op">,</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;plugin:@typescript-eslint/recommended&#39;</span><span class="op">,</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;plugin:@typescript-eslint/recommended-requiring-type-checking&#39;</span><span class="op">,</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;plugin:react/recommended&#39;</span><span class="op">,</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;plugin:react-hooks/recommended&#39;</span><span class="op">,</span></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;plugin:jsx-a11y/recommended&#39;</span><span class="op">,</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;plugin:testing-library/react&#39;</span><span class="op">,</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;plugin:jest-dom/recommended&#39;</span><span class="op">,</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;prettier&#39;</span><span class="op">,</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>  <span class="dt">plugins</span><span class="op">:</span> [</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;@typescript-eslint&#39;</span><span class="op">,</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react&#39;</span><span class="op">,</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react-hooks&#39;</span><span class="op">,</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;jsx-a11y&#39;</span><span class="op">,</span></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;testing-library&#39;</span><span class="op">,</span></span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;jest-dom&#39;</span><span class="op">,</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>  <span class="dt">rules</span><span class="op">:</span> {</span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    <span class="co">// TypeScript specific rules</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;@typescript-eslint/explicit-function-return-type&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;@typescript-eslint/no-explicit-any&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;@typescript-eslint/no-unused-vars&#39;</span><span class="op">:</span> [<span class="st">&#39;error&#39;</span><span class="op">,</span> { </span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>      <span class="dt">argsIgnorePattern</span><span class="op">:</span> <span class="st">&#39;^_&#39;</span><span class="op">,</span></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>      <span class="dt">varsIgnorePattern</span><span class="op">:</span> <span class="st">&#39;^_&#39;</span><span class="op">,</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>    }]<span class="op">,</span></span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;@typescript-eslint/no-floating-promises&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;@typescript-eslint/no-misused-promises&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;@typescript-eslint/await-thenable&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>    <span class="co">// React specific rules</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react/prop-types&#39;</span><span class="op">:</span> <span class="st">&#39;off&#39;</span><span class="op">,</span> <span class="co">// We use TypeScript</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react/react-in-jsx-scope&#39;</span><span class="op">:</span> <span class="st">&#39;off&#39;</span><span class="op">,</span> <span class="co">// React 17+</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react/jsx-uses-react&#39;</span><span class="op">:</span> <span class="st">&#39;off&#39;</span><span class="op">,</span></span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react/jsx-filename-extension&#39;</span><span class="op">:</span> [<span class="st">&#39;error&#39;</span><span class="op">,</span> { </span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>      <span class="dt">extensions</span><span class="op">:</span> [<span class="st">&#39;.tsx&#39;</span>] </span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    }]<span class="op">,</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react/jsx-props-no-spreading&#39;</span><span class="op">:</span> <span class="st">&#39;warn&#39;</span><span class="op">,</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react/no-array-index-key&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Hooks rules</span></span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react-hooks/rules-of-hooks&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;react-hooks/exhaustive-deps&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>    <span class="co">// General best practices</span></span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;no-console&#39;</span><span class="op">:</span> [<span class="st">&#39;warn&#39;</span><span class="op">,</span> { </span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>      <span class="dt">allow</span><span class="op">:</span> [<span class="st">&#39;warn&#39;</span><span class="op">,</span> <span class="st">&#39;error&#39;</span>] </span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>    }]<span class="op">,</span></span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;prefer-const&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;no-var&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;eqeqeq&#39;</span><span class="op">:</span> [<span class="st">&#39;error&#39;</span><span class="op">,</span> <span class="st">&#39;always&#39;</span>]<span class="op">,</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Accessibility</span></span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;jsx-a11y/anchor-is-valid&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;jsx-a11y/click-events-have-key-events&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>    <span class="st">&#39;jsx-a11y/no-static-element-interactions&#39;</span><span class="op">:</span> <span class="st">&#39;error&#39;</span><span class="op">,</span></span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>  <span class="dt">overrides</span><span class="op">:</span> [</span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Test file rules</span></span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>      <span class="dt">files</span><span class="op">:</span> [<span class="st">&#39;**/*.test.{ts,tsx}&#39;</span><span class="op">,</span> <span class="st">&#39;**/*.spec.{ts,tsx}&#39;</span>]<span class="op">,</span></span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a>      <span class="dt">env</span><span class="op">:</span> {</span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a>        <span class="dt">jest</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a>      <span class="dt">rules</span><span class="op">:</span> {</span>
<span id="cb8-83"><a href="#cb8-83" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;@typescript-eslint/no-explicit-any&#39;</span><span class="op">:</span> <span class="st">&#39;off&#39;</span><span class="op">,</span></span>
<span id="cb8-84"><a href="#cb8-84" aria-hidden="true" tabindex="-1"></a>        <span class="st">&#39;@typescript-eslint/no-non-null-assertion&#39;</span><span class="op">:</span> <span class="st">&#39;off&#39;</span><span class="op">,</span></span>
<span id="cb8-85"><a href="#cb8-85" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb8-86"><a href="#cb8-86" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb8-87"><a href="#cb8-87" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb8-88"><a href="#cb8-88" aria-hidden="true" tabindex="-1"></a>}<span class="op">;</span></span></code></pre></div>
<h3 id="eslint-scripts">ESLint Scripts</h3>
<p>Add these to your <code>package.json</code>:</p>
<div class="sourceCode" id="cb9"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;scripts&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lint&quot;</span><span class="fu">:</span> <span class="st">&quot;eslint . --ext .js,.jsx,.ts,.tsx&quot;</span><span class="fu">,</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lint:fix&quot;</span><span class="fu">:</span> <span class="st">&quot;eslint . --ext .js,.jsx,.ts,.tsx --fix&quot;</span><span class="fu">,</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lint:staged&quot;</span><span class="fu">:</span> <span class="st">&quot;lint-staged&quot;</span><span class="fu">,</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;type-check&quot;</span><span class="fu">:</span> <span class="st">&quot;tsc --noEmit&quot;</span><span class="fu">,</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;validate&quot;</span><span class="fu">:</span> <span class="st">&quot;npm run type-check &amp;&amp; npm run lint &amp;&amp; npm run test&quot;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;lint-staged&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;*.{js,jsx,ts,tsx}&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;eslint --fix&quot;</span><span class="ot">,</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;prettier --write&quot;</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h2 id="prettier-integration">Prettier Integration</h2>
<p>Consistent formatting is crucial for AI-generated code:</p>
<h3 id="prettierrc">.prettierrc</h3>
<div class="sourceCode" id="cb10"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;semi&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;trailingComma&quot;</span><span class="fu">:</span> <span class="st">&quot;es5&quot;</span><span class="fu">,</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;singleQuote&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;printWidth&quot;</span><span class="fu">:</span> <span class="dv">80</span><span class="fu">,</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tabWidth&quot;</span><span class="fu">:</span> <span class="dv">2</span><span class="fu">,</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;useTabs&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;arrowParens&quot;</span><span class="fu">:</span> <span class="st">&quot;avoid&quot;</span><span class="fu">,</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;endOfLine&quot;</span><span class="fu">:</span> <span class="st">&quot;lf&quot;</span><span class="fu">,</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;bracketSpacing&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;jsxBracketSameLine&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;proseWrap&quot;</span><span class="fu">:</span> <span class="st">&quot;preserve&quot;</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="prettierignore">.prettierignore</h3>
<pre><code>node_modules
build
dist
coverage
.next
.cache
public
*.min.js
*.d.ts</code></pre>
<h2 id="model-context-protocol-mcp-setup">Model Context Protocol (MCP)
Setup</h2>
<p>MCP is the foundation that enables Claude Code to understand your
project deeply and interact with tools securely.</p>
<h3 id="understanding-mcp-architecture">Understanding MCP
Architecture</h3>
<pre class="mermaid"><code>graph TB
    A[Claude Code] --&gt; B[MCP Client]
    B --&gt; C[MCP Server 1: File System]
    B --&gt; D[MCP Server 2: Git]
    B --&gt; E[MCP Server 3: Database]
    B --&gt; F[MCP Server 4: Custom Tools]
    
    C --&gt; G[Read/Write Files]
    D --&gt; H[Git Operations]
    E --&gt; I[Query Database]
    F --&gt; J[Custom Logic]</code></pre>
<h3 id="core-mcp-configuration">Core MCP Configuration</h3>
<p>Create the main MCP configuration:</p>
<h4 id="mcp.json">.mcp.json</h4>
<div class="sourceCode" id="cb13"><pre
class="sourceCode json"><code class="sourceCode json"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">{</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;mcpServers&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;filesystem&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;npx&quot;</span><span class="fu">,</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;@modelcontextprotocol/server-filesystem&quot;</span><span class="ot">,</span> <span class="st">&quot;/path/to/allowed/dir&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;env&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;ALLOWED_DIRS&quot;</span><span class="fu">:</span> <span class="st">&quot;src,tests,docs,.claude&quot;</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;git&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;npx&quot;</span><span class="fu">,</span> </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;@modelcontextprotocol/server-git&quot;</span><span class="ot">,</span> <span class="st">&quot;--repository&quot;</span><span class="ot">,</span> <span class="st">&quot;.&quot;</span><span class="ot">]</span></span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;brave-search&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;npx&quot;</span><span class="fu">,</span></span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;@modelcontextprotocol/server-brave-search&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;env&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;BRAVE_API_KEY&quot;</span><span class="fu">:</span> <span class="st">&quot;your-api-key&quot;</span></span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;github&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-22"><a href="#cb13-22" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;npx&quot;</span><span class="fu">,</span></span>
<span id="cb13-23"><a href="#cb13-23" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;@modelcontextprotocol/server-github&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-24"><a href="#cb13-24" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;env&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-25"><a href="#cb13-25" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;GITHUB_PERSONAL_ACCESS_TOKEN&quot;</span><span class="fu">:</span> <span class="st">&quot;your-token&quot;</span></span>
<span id="cb13-26"><a href="#cb13-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb13-27"><a href="#cb13-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb13-28"><a href="#cb13-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;sentry&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-29"><a href="#cb13-29" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;command&quot;</span><span class="fu">:</span> <span class="st">&quot;npx&quot;</span><span class="fu">,</span></span>
<span id="cb13-30"><a href="#cb13-30" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;args&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;@modelcontextprotocol/server-sentry&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-31"><a href="#cb13-31" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;env&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-32"><a href="#cb13-32" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;SENTRY_AUTH_TOKEN&quot;</span><span class="fu">:</span> <span class="st">&quot;your-sentry-auth-token&quot;</span><span class="fu">,</span></span>
<span id="cb13-33"><a href="#cb13-33" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;SENTRY_ORG&quot;</span><span class="fu">:</span> <span class="st">&quot;your-org-slug&quot;</span><span class="fu">,</span></span>
<span id="cb13-34"><a href="#cb13-34" aria-hidden="true" tabindex="-1"></a>        <span class="dt">&quot;SENTRY_PROJECT&quot;</span><span class="fu">:</span> <span class="st">&quot;your-project-slug&quot;</span></span>
<span id="cb13-35"><a href="#cb13-35" aria-hidden="true" tabindex="-1"></a>      <span class="fu">}</span></span>
<span id="cb13-36"><a href="#cb13-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb13-37"><a href="#cb13-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb13-38"><a href="#cb13-38" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;tools&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-39"><a href="#cb13-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;read&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-40"><a href="#cb13-40" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb13-41"><a href="#cb13-41" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;maxFileSize&quot;</span><span class="fu">:</span> <span class="st">&quot;1MB&quot;</span><span class="fu">,</span></span>
<span id="cb13-42"><a href="#cb13-42" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;allowedExtensions&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;.ts&quot;</span><span class="ot">,</span> <span class="st">&quot;.tsx&quot;</span><span class="ot">,</span> <span class="st">&quot;.js&quot;</span><span class="ot">,</span> <span class="st">&quot;.jsx&quot;</span><span class="ot">,</span> <span class="st">&quot;.json&quot;</span><span class="ot">,</span> <span class="st">&quot;.md&quot;</span><span class="ot">]</span></span>
<span id="cb13-43"><a href="#cb13-43" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb13-44"><a href="#cb13-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;edit&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-45"><a href="#cb13-45" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb13-46"><a href="#cb13-46" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;requiresConfirmation&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></span>
<span id="cb13-47"><a href="#cb13-47" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;backupEnabled&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb13-48"><a href="#cb13-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb13-49"><a href="#cb13-49" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;write&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-50"><a href="#cb13-50" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb13-51"><a href="#cb13-51" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;allowedPaths&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;src/**&quot;</span><span class="ot">,</span> <span class="st">&quot;tests/**&quot;</span><span class="ot">,</span> <span class="st">&quot;docs/**&quot;</span><span class="ot">,</span> <span class="st">&quot;.claude/**&quot;</span><span class="ot">]</span></span>
<span id="cb13-52"><a href="#cb13-52" aria-hidden="true" tabindex="-1"></a>    <span class="fu">},</span></span>
<span id="cb13-53"><a href="#cb13-53" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;bash&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-54"><a href="#cb13-54" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;enabled&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb13-55"><a href="#cb13-55" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;allowedCommands&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb13-56"><a href="#cb13-56" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;git&quot;</span><span class="ot">,</span></span>
<span id="cb13-57"><a href="#cb13-57" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;npm&quot;</span><span class="ot">,</span> <span class="st">&quot;yarn&quot;</span><span class="ot">,</span> <span class="st">&quot;pnpm&quot;</span><span class="ot">,</span></span>
<span id="cb13-58"><a href="#cb13-58" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;jest&quot;</span><span class="ot">,</span> <span class="st">&quot;vitest&quot;</span><span class="ot">,</span></span>
<span id="cb13-59"><a href="#cb13-59" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;eslint&quot;</span><span class="ot">,</span> <span class="st">&quot;prettier&quot;</span><span class="ot">,</span> <span class="st">&quot;tsc&quot;</span><span class="ot">,</span></span>
<span id="cb13-60"><a href="#cb13-60" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;gh&quot;</span><span class="ot">,</span> <span class="st">&quot;curl&quot;</span><span class="ot">,</span> <span class="st">&quot;jq&quot;</span></span>
<span id="cb13-61"><a href="#cb13-61" aria-hidden="true" tabindex="-1"></a>      <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-62"><a href="#cb13-62" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;restrictedCommands&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb13-63"><a href="#cb13-63" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;rm -rf /&quot;</span><span class="ot">,</span></span>
<span id="cb13-64"><a href="#cb13-64" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;sudo&quot;</span><span class="ot">,</span></span>
<span id="cb13-65"><a href="#cb13-65" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;chmod 777&quot;</span><span class="ot">,</span></span>
<span id="cb13-66"><a href="#cb13-66" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;wget&quot;</span><span class="ot">,</span></span>
<span id="cb13-67"><a href="#cb13-67" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;docker run --privileged&quot;</span></span>
<span id="cb13-68"><a href="#cb13-68" aria-hidden="true" tabindex="-1"></a>      <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-69"><a href="#cb13-69" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;timeout&quot;</span><span class="fu">:</span> <span class="dv">30000</span><span class="fu">,</span></span>
<span id="cb13-70"><a href="#cb13-70" aria-hidden="true" tabindex="-1"></a>      <span class="dt">&quot;workingDirectory&quot;</span><span class="fu">:</span> <span class="st">&quot;.&quot;</span></span>
<span id="cb13-71"><a href="#cb13-71" aria-hidden="true" tabindex="-1"></a>    <span class="fu">}</span></span>
<span id="cb13-72"><a href="#cb13-72" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb13-73"><a href="#cb13-73" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;context&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-74"><a href="#cb13-74" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;includePatterns&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb13-75"><a href="#cb13-75" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/*.{ts,tsx,js,jsx}&quot;</span><span class="ot">,</span></span>
<span id="cb13-76"><a href="#cb13-76" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/*.{json,md,yml,yaml}&quot;</span><span class="ot">,</span></span>
<span id="cb13-77"><a href="#cb13-77" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/package.json&quot;</span><span class="ot">,</span></span>
<span id="cb13-78"><a href="#cb13-78" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/tsconfig.json&quot;</span><span class="ot">,</span></span>
<span id="cb13-79"><a href="#cb13-79" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/.eslintrc*&quot;</span><span class="ot">,</span></span>
<span id="cb13-80"><a href="#cb13-80" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/.prettierrc*&quot;</span></span>
<span id="cb13-81"><a href="#cb13-81" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-82"><a href="#cb13-82" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;excludePatterns&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb13-83"><a href="#cb13-83" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/node_modules/**&quot;</span><span class="ot">,</span></span>
<span id="cb13-84"><a href="#cb13-84" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/.git/**&quot;</span><span class="ot">,</span></span>
<span id="cb13-85"><a href="#cb13-85" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/build/**&quot;</span><span class="ot">,</span></span>
<span id="cb13-86"><a href="#cb13-86" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/dist/**&quot;</span><span class="ot">,</span></span>
<span id="cb13-87"><a href="#cb13-87" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/*.min.js&quot;</span><span class="ot">,</span></span>
<span id="cb13-88"><a href="#cb13-88" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/coverage/**&quot;</span></span>
<span id="cb13-89"><a href="#cb13-89" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-90"><a href="#cb13-90" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;maxFiles&quot;</span><span class="fu">:</span> <span class="dv">100</span><span class="fu">,</span></span>
<span id="cb13-91"><a href="#cb13-91" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;maxFileSize&quot;</span><span class="fu">:</span> <span class="st">&quot;500KB&quot;</span><span class="fu">,</span></span>
<span id="cb13-92"><a href="#cb13-92" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;priorityPatterns&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb13-93"><a href="#cb13-93" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;src/**/*.ts&quot;</span><span class="ot">,</span></span>
<span id="cb13-94"><a href="#cb13-94" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;src/**/*.tsx&quot;</span><span class="ot">,</span></span>
<span id="cb13-95"><a href="#cb13-95" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/*.test.ts&quot;</span><span class="ot">,</span></span>
<span id="cb13-96"><a href="#cb13-96" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/*.test.tsx&quot;</span></span>
<span id="cb13-97"><a href="#cb13-97" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb13-98"><a href="#cb13-98" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb13-99"><a href="#cb13-99" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;security&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-100"><a href="#cb13-100" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;sandboxMode&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb13-101"><a href="#cb13-101" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;allowNetworkAccess&quot;</span><span class="fu">:</span> <span class="ot">[</span><span class="st">&quot;github.com&quot;</span><span class="ot">,</span> <span class="st">&quot;api.github.com&quot;</span><span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-102"><a href="#cb13-102" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;allowEnvironmentAccess&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb13-103"><a href="#cb13-103" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;NODE_ENV&quot;</span><span class="ot">,</span></span>
<span id="cb13-104"><a href="#cb13-104" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;CI&quot;</span><span class="ot">,</span></span>
<span id="cb13-105"><a href="#cb13-105" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;GITHUB_TOKEN&quot;</span></span>
<span id="cb13-106"><a href="#cb13-106" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span><span class="fu">,</span></span>
<span id="cb13-107"><a href="#cb13-107" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;denyPatterns&quot;</span><span class="fu">:</span> <span class="ot">[</span></span>
<span id="cb13-108"><a href="#cb13-108" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/.env*&quot;</span><span class="ot">,</span></span>
<span id="cb13-109"><a href="#cb13-109" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/secrets/**&quot;</span><span class="ot">,</span></span>
<span id="cb13-110"><a href="#cb13-110" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/*key*&quot;</span><span class="ot">,</span></span>
<span id="cb13-111"><a href="#cb13-111" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;**/*password*&quot;</span></span>
<span id="cb13-112"><a href="#cb13-112" aria-hidden="true" tabindex="-1"></a>    <span class="ot">]</span></span>
<span id="cb13-113"><a href="#cb13-113" aria-hidden="true" tabindex="-1"></a>  <span class="fu">},</span></span>
<span id="cb13-114"><a href="#cb13-114" aria-hidden="true" tabindex="-1"></a>  <span class="dt">&quot;behavior&quot;</span><span class="fu">:</span> <span class="fu">{</span></span>
<span id="cb13-115"><a href="#cb13-115" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;autoCommit&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></span>
<span id="cb13-116"><a href="#cb13-116" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;autoPush&quot;</span><span class="fu">:</span> <span class="kw">false</span><span class="fu">,</span></span>
<span id="cb13-117"><a href="#cb13-117" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;testBeforeCommit&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb13-118"><a href="#cb13-118" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;lintBeforeCommit&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb13-119"><a href="#cb13-119" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;verboseMode&quot;</span><span class="fu">:</span> <span class="kw">true</span><span class="fu">,</span></span>
<span id="cb13-120"><a href="#cb13-120" aria-hidden="true" tabindex="-1"></a>    <span class="dt">&quot;pauseOnError&quot;</span><span class="fu">:</span> <span class="kw">true</span></span>
<span id="cb13-121"><a href="#cb13-121" aria-hidden="true" tabindex="-1"></a>  <span class="fu">}</span></span>
<span id="cb13-122"><a href="#cb13-122" aria-hidden="true" tabindex="-1"></a><span class="fu">}</span></span></code></pre></div>
<h3 id="custom-mcp-server">Custom MCP Server</h3>
<p>Create a custom MCP server for project-specific tools:</p>
<h4
id="claudemcp-serverproject-tools.js">.claude/mcp-server/project-tools.js</h4>
<div class="sourceCode" id="cb14"><pre
class="sourceCode javascript"><code class="sourceCode javascript"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co">#!/usr/bin/env node</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { <span class="bu">Server</span> } <span class="im">from</span> <span class="st">&#39;@modelcontextprotocol/sdk/server/index.js&#39;</span><span class="op">;</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { StdioServerTransport } <span class="im">from</span> <span class="st">&#39;@modelcontextprotocol/sdk/server/stdio.js&#39;</span><span class="op">;</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {</span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  ListToolsRequestSchema<span class="op">,</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  CallToolRequestSchema<span class="op">,</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  ErrorCode<span class="op">,</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  McpError<span class="op">,</span></span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>} <span class="im">from</span> <span class="st">&#39;@modelcontextprotocol/sdk/types.js&#39;</span><span class="op">;</span></span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { exec } <span class="im">from</span> <span class="st">&#39;child_process&#39;</span><span class="op">;</span></span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> { promisify } <span class="im">from</span> <span class="st">&#39;util&#39;</span><span class="op">;</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> fs <span class="im">from</span> <span class="st">&#39;fs/promises&#39;</span><span class="op">;</span></span>
<span id="cb14-14"><a href="#cb14-14" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> path <span class="im">from</span> <span class="st">&#39;path&#39;</span><span class="op">;</span></span>
<span id="cb14-15"><a href="#cb14-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-16"><a href="#cb14-16" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span> execAsync <span class="op">=</span> <span class="fu">promisify</span>(exec)<span class="op">;</span></span>
<span id="cb14-17"><a href="#cb14-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-18"><a href="#cb14-18" aria-hidden="true" tabindex="-1"></a><span class="kw">class</span> ProjectToolsServer {</span>
<span id="cb14-19"><a href="#cb14-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">constructor</span>() {</span>
<span id="cb14-20"><a href="#cb14-20" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">server</span> <span class="op">=</span> <span class="kw">new</span> <span class="bu">Server</span>(</span>
<span id="cb14-21"><a href="#cb14-21" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb14-22"><a href="#cb14-22" aria-hidden="true" tabindex="-1"></a>        <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;project-tools&#39;</span><span class="op">,</span></span>
<span id="cb14-23"><a href="#cb14-23" aria-hidden="true" tabindex="-1"></a>        <span class="dt">version</span><span class="op">:</span> <span class="st">&#39;1.0.0&#39;</span><span class="op">,</span></span>
<span id="cb14-24"><a href="#cb14-24" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb14-25"><a href="#cb14-25" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb14-26"><a href="#cb14-26" aria-hidden="true" tabindex="-1"></a>        <span class="dt">capabilities</span><span class="op">:</span> {</span>
<span id="cb14-27"><a href="#cb14-27" aria-hidden="true" tabindex="-1"></a>          <span class="dt">tools</span><span class="op">:</span> {}<span class="op">,</span></span>
<span id="cb14-28"><a href="#cb14-28" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-29"><a href="#cb14-29" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-30"><a href="#cb14-30" aria-hidden="true" tabindex="-1"></a>    )<span class="op">;</span></span>
<span id="cb14-31"><a href="#cb14-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-32"><a href="#cb14-32" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="fu">setupToolHandlers</span>()<span class="op">;</span></span>
<span id="cb14-33"><a href="#cb14-33" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="fu">setupErrorHandling</span>()<span class="op">;</span></span>
<span id="cb14-34"><a href="#cb14-34" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-35"><a href="#cb14-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-36"><a href="#cb14-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">setupToolHandlers</span>() {</span>
<span id="cb14-37"><a href="#cb14-37" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">server</span><span class="op">.</span><span class="fu">setRequestHandler</span>(ListToolsRequestSchema<span class="op">,</span> <span class="kw">async</span> () <span class="kw">=&gt;</span> ({</span>
<span id="cb14-38"><a href="#cb14-38" aria-hidden="true" tabindex="-1"></a>      <span class="dt">tools</span><span class="op">:</span> [</span>
<span id="cb14-39"><a href="#cb14-39" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-40"><a href="#cb14-40" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;analyze-bundle-size&#39;</span><span class="op">,</span></span>
<span id="cb14-41"><a href="#cb14-41" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Analyze bundle size and provide optimization suggestions&#39;</span><span class="op">,</span></span>
<span id="cb14-42"><a href="#cb14-42" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-43"><a href="#cb14-43" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-44"><a href="#cb14-44" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-45"><a href="#cb14-45" aria-hidden="true" tabindex="-1"></a>              <span class="dt">buildPath</span><span class="op">:</span> {</span>
<span id="cb14-46"><a href="#cb14-46" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-47"><a href="#cb14-47" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Path to built files&#39;</span><span class="op">,</span></span>
<span id="cb14-48"><a href="#cb14-48" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;dist&#39;</span></span>
<span id="cb14-49"><a href="#cb14-49" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-50"><a href="#cb14-50" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-51"><a href="#cb14-51" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-52"><a href="#cb14-52" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-53"><a href="#cb14-53" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-54"><a href="#cb14-54" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;run-lighthouse&#39;</span><span class="op">,</span></span>
<span id="cb14-55"><a href="#cb14-55" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Run Lighthouse performance analysis&#39;</span><span class="op">,</span></span>
<span id="cb14-56"><a href="#cb14-56" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-57"><a href="#cb14-57" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-58"><a href="#cb14-58" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-59"><a href="#cb14-59" aria-hidden="true" tabindex="-1"></a>              <span class="dt">url</span><span class="op">:</span> {</span>
<span id="cb14-60"><a href="#cb14-60" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-61"><a href="#cb14-61" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;URL to analyze&#39;</span></span>
<span id="cb14-62"><a href="#cb14-62" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-63"><a href="#cb14-63" aria-hidden="true" tabindex="-1"></a>              <span class="dt">preset</span><span class="op">:</span> {</span>
<span id="cb14-64"><a href="#cb14-64" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-65"><a href="#cb14-65" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;mobile&#39;</span><span class="op">,</span> <span class="st">&#39;desktop&#39;</span>]<span class="op">,</span></span>
<span id="cb14-66"><a href="#cb14-66" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;mobile&#39;</span></span>
<span id="cb14-67"><a href="#cb14-67" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-68"><a href="#cb14-68" aria-hidden="true" tabindex="-1"></a>            }<span class="op">,</span></span>
<span id="cb14-69"><a href="#cb14-69" aria-hidden="true" tabindex="-1"></a>            <span class="dt">required</span><span class="op">:</span> [<span class="st">&#39;url&#39;</span>]</span>
<span id="cb14-70"><a href="#cb14-70" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-71"><a href="#cb14-71" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-72"><a href="#cb14-72" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-73"><a href="#cb14-73" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;check-dependencies&#39;</span><span class="op">,</span></span>
<span id="cb14-74"><a href="#cb14-74" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Check for outdated dependencies and security vulnerabilities&#39;</span><span class="op">,</span></span>
<span id="cb14-75"><a href="#cb14-75" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-76"><a href="#cb14-76" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-77"><a href="#cb14-77" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-78"><a href="#cb14-78" aria-hidden="true" tabindex="-1"></a>              <span class="dt">fix</span><span class="op">:</span> {</span>
<span id="cb14-79"><a href="#cb14-79" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-80"><a href="#cb14-80" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Automatically fix issues where possible&#39;</span><span class="op">,</span></span>
<span id="cb14-81"><a href="#cb14-81" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb14-82"><a href="#cb14-82" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-83"><a href="#cb14-83" aria-hidden="true" tabindex="-1"></a>              <span class="dt">severity</span><span class="op">:</span> {</span>
<span id="cb14-84"><a href="#cb14-84" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-85"><a href="#cb14-85" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;info&#39;</span><span class="op">,</span> <span class="st">&#39;low&#39;</span><span class="op">,</span> <span class="st">&#39;moderate&#39;</span><span class="op">,</span> <span class="st">&#39;high&#39;</span><span class="op">,</span> <span class="st">&#39;critical&#39;</span>]<span class="op">,</span></span>
<span id="cb14-86"><a href="#cb14-86" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Minimum severity level to report&#39;</span><span class="op">,</span></span>
<span id="cb14-87"><a href="#cb14-87" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;moderate&#39;</span></span>
<span id="cb14-88"><a href="#cb14-88" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-89"><a href="#cb14-89" aria-hidden="true" tabindex="-1"></a>              <span class="dt">packageManager</span><span class="op">:</span> {</span>
<span id="cb14-90"><a href="#cb14-90" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-91"><a href="#cb14-91" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;npm&#39;</span><span class="op">,</span> <span class="st">&#39;yarn&#39;</span><span class="op">,</span> <span class="st">&#39;pnpm&#39;</span>]<span class="op">,</span></span>
<span id="cb14-92"><a href="#cb14-92" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Package manager to use&#39;</span><span class="op">,</span></span>
<span id="cb14-93"><a href="#cb14-93" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;npm&#39;</span></span>
<span id="cb14-94"><a href="#cb14-94" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-95"><a href="#cb14-95" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-96"><a href="#cb14-96" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-97"><a href="#cb14-97" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-98"><a href="#cb14-98" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-99"><a href="#cb14-99" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;audit-packages&#39;</span><span class="op">,</span></span>
<span id="cb14-100"><a href="#cb14-100" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Comprehensive security audit of all packages&#39;</span><span class="op">,</span></span>
<span id="cb14-101"><a href="#cb14-101" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-102"><a href="#cb14-102" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-103"><a href="#cb14-103" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-104"><a href="#cb14-104" aria-hidden="true" tabindex="-1"></a>              <span class="dt">format</span><span class="op">:</span> {</span>
<span id="cb14-105"><a href="#cb14-105" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-106"><a href="#cb14-106" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;json&#39;</span><span class="op">,</span> <span class="st">&#39;table&#39;</span><span class="op">,</span> <span class="st">&#39;summary&#39;</span>]<span class="op">,</span></span>
<span id="cb14-107"><a href="#cb14-107" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;summary&#39;</span></span>
<span id="cb14-108"><a href="#cb14-108" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-109"><a href="#cb14-109" aria-hidden="true" tabindex="-1"></a>              <span class="dt">production</span><span class="op">:</span> {</span>
<span id="cb14-110"><a href="#cb14-110" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-111"><a href="#cb14-111" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Only audit production dependencies&#39;</span><span class="op">,</span></span>
<span id="cb14-112"><a href="#cb14-112" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb14-113"><a href="#cb14-113" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-114"><a href="#cb14-114" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-115"><a href="#cb14-115" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-116"><a href="#cb14-116" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-117"><a href="#cb14-117" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-118"><a href="#cb14-118" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;update-packages&#39;</span><span class="op">,</span></span>
<span id="cb14-119"><a href="#cb14-119" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Update outdated packages with intelligent conflict resolution&#39;</span><span class="op">,</span></span>
<span id="cb14-120"><a href="#cb14-120" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-121"><a href="#cb14-121" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-122"><a href="#cb14-122" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-123"><a href="#cb14-123" aria-hidden="true" tabindex="-1"></a>              <span class="dt">strategy</span><span class="op">:</span> {</span>
<span id="cb14-124"><a href="#cb14-124" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-125"><a href="#cb14-125" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;patch&#39;</span><span class="op">,</span> <span class="st">&#39;minor&#39;</span><span class="op">,</span> <span class="st">&#39;major&#39;</span><span class="op">,</span> <span class="st">&#39;interactive&#39;</span>]<span class="op">,</span></span>
<span id="cb14-126"><a href="#cb14-126" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Update strategy&#39;</span><span class="op">,</span></span>
<span id="cb14-127"><a href="#cb14-127" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;minor&#39;</span></span>
<span id="cb14-128"><a href="#cb14-128" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-129"><a href="#cb14-129" aria-hidden="true" tabindex="-1"></a>              <span class="dt">dryRun</span><span class="op">:</span> {</span>
<span id="cb14-130"><a href="#cb14-130" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-131"><a href="#cb14-131" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Show what would be updated without making changes&#39;</span><span class="op">,</span></span>
<span id="cb14-132"><a href="#cb14-132" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb14-133"><a href="#cb14-133" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-134"><a href="#cb14-134" aria-hidden="true" tabindex="-1"></a>              <span class="dt">testAfter</span><span class="op">:</span> {</span>
<span id="cb14-135"><a href="#cb14-135" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-136"><a href="#cb14-136" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Run tests after updates&#39;</span><span class="op">,</span></span>
<span id="cb14-137"><a href="#cb14-137" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb14-138"><a href="#cb14-138" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-139"><a href="#cb14-139" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-140"><a href="#cb14-140" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-141"><a href="#cb14-141" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-142"><a href="#cb14-142" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-143"><a href="#cb14-143" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;analyze-package-health&#39;</span><span class="op">,</span></span>
<span id="cb14-144"><a href="#cb14-144" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Analyze overall package ecosystem health and recommendations&#39;</span><span class="op">,</span></span>
<span id="cb14-145"><a href="#cb14-145" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-146"><a href="#cb14-146" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-147"><a href="#cb14-147" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-148"><a href="#cb14-148" aria-hidden="true" tabindex="-1"></a>              <span class="dt">includeMetrics</span><span class="op">:</span> {</span>
<span id="cb14-149"><a href="#cb14-149" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-150"><a href="#cb14-150" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Include download stats and maintenance metrics&#39;</span><span class="op">,</span></span>
<span id="cb14-151"><a href="#cb14-151" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb14-152"><a href="#cb14-152" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-153"><a href="#cb14-153" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-154"><a href="#cb14-154" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-155"><a href="#cb14-155" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-156"><a href="#cb14-156" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-157"><a href="#cb14-157" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;generate-api-docs&#39;</span><span class="op">,</span></span>
<span id="cb14-158"><a href="#cb14-158" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Generate API documentation from TypeScript interfaces&#39;</span><span class="op">,</span></span>
<span id="cb14-159"><a href="#cb14-159" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-160"><a href="#cb14-160" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-161"><a href="#cb14-161" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-162"><a href="#cb14-162" aria-hidden="true" tabindex="-1"></a>              <span class="dt">inputDir</span><span class="op">:</span> {</span>
<span id="cb14-163"><a href="#cb14-163" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-164"><a href="#cb14-164" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;src/types&#39;</span></span>
<span id="cb14-165"><a href="#cb14-165" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-166"><a href="#cb14-166" aria-hidden="true" tabindex="-1"></a>              <span class="dt">outputDir</span><span class="op">:</span> {</span>
<span id="cb14-167"><a href="#cb14-167" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span> </span>
<span id="cb14-168"><a href="#cb14-168" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;docs/api&#39;</span></span>
<span id="cb14-169"><a href="#cb14-169" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-170"><a href="#cb14-170" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-171"><a href="#cb14-171" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-172"><a href="#cb14-172" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-173"><a href="#cb14-173" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-174"><a href="#cb14-174" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;build-openapi-spec&#39;</span><span class="op">,</span></span>
<span id="cb14-175"><a href="#cb14-175" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Generate OpenAPI specification from code annotations and types&#39;</span><span class="op">,</span></span>
<span id="cb14-176"><a href="#cb14-176" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-177"><a href="#cb14-177" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-178"><a href="#cb14-178" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-179"><a href="#cb14-179" aria-hidden="true" tabindex="-1"></a>              <span class="dt">sourceDir</span><span class="op">:</span> {</span>
<span id="cb14-180"><a href="#cb14-180" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-181"><a href="#cb14-181" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Directory containing API routes/controllers&#39;</span><span class="op">,</span></span>
<span id="cb14-182"><a href="#cb14-182" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;src/api&#39;</span></span>
<span id="cb14-183"><a href="#cb14-183" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-184"><a href="#cb14-184" aria-hidden="true" tabindex="-1"></a>              <span class="dt">outputFile</span><span class="op">:</span> {</span>
<span id="cb14-185"><a href="#cb14-185" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-186"><a href="#cb14-186" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Output OpenAPI spec file&#39;</span><span class="op">,</span></span>
<span id="cb14-187"><a href="#cb14-187" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;docs/openapi.yaml&#39;</span></span>
<span id="cb14-188"><a href="#cb14-188" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-189"><a href="#cb14-189" aria-hidden="true" tabindex="-1"></a>              <span class="dt">format</span><span class="op">:</span> {</span>
<span id="cb14-190"><a href="#cb14-190" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-191"><a href="#cb14-191" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;yaml&#39;</span><span class="op">,</span> <span class="st">&#39;json&#39;</span>]<span class="op">,</span></span>
<span id="cb14-192"><a href="#cb14-192" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;yaml&#39;</span></span>
<span id="cb14-193"><a href="#cb14-193" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-194"><a href="#cb14-194" aria-hidden="true" tabindex="-1"></a>              <span class="dt">includeExamples</span><span class="op">:</span> {</span>
<span id="cb14-195"><a href="#cb14-195" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-196"><a href="#cb14-196" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Include request/response examples&#39;</span><span class="op">,</span></span>
<span id="cb14-197"><a href="#cb14-197" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb14-198"><a href="#cb14-198" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-199"><a href="#cb14-199" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-200"><a href="#cb14-200" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-201"><a href="#cb14-201" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-202"><a href="#cb14-202" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-203"><a href="#cb14-203" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;generate-postman-collection&#39;</span><span class="op">,</span></span>
<span id="cb14-204"><a href="#cb14-204" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Create Postman collection from OpenAPI specification&#39;</span><span class="op">,</span></span>
<span id="cb14-205"><a href="#cb14-205" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-206"><a href="#cb14-206" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-207"><a href="#cb14-207" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-208"><a href="#cb14-208" aria-hidden="true" tabindex="-1"></a>              <span class="dt">openApiFile</span><span class="op">:</span> {</span>
<span id="cb14-209"><a href="#cb14-209" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-210"><a href="#cb14-210" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Path to OpenAPI specification file&#39;</span><span class="op">,</span></span>
<span id="cb14-211"><a href="#cb14-211" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;docs/openapi.yaml&#39;</span></span>
<span id="cb14-212"><a href="#cb14-212" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-213"><a href="#cb14-213" aria-hidden="true" tabindex="-1"></a>              <span class="dt">outputFile</span><span class="op">:</span> {</span>
<span id="cb14-214"><a href="#cb14-214" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-215"><a href="#cb14-215" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Output Postman collection file&#39;</span><span class="op">,</span></span>
<span id="cb14-216"><a href="#cb14-216" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;docs/postman-collection.json&#39;</span></span>
<span id="cb14-217"><a href="#cb14-217" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-218"><a href="#cb14-218" aria-hidden="true" tabindex="-1"></a>              <span class="dt">baseUrl</span><span class="op">:</span> {</span>
<span id="cb14-219"><a href="#cb14-219" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-220"><a href="#cb14-220" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Base URL for API requests&#39;</span><span class="op">,</span></span>
<span id="cb14-221"><a href="#cb14-221" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;http://localhost:3000&#39;</span></span>
<span id="cb14-222"><a href="#cb14-222" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-223"><a href="#cb14-223" aria-hidden="true" tabindex="-1"></a>              <span class="dt">includeAuth</span><span class="op">:</span> {</span>
<span id="cb14-224"><a href="#cb14-224" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-225"><a href="#cb14-225" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Include authentication setup&#39;</span><span class="op">,</span></span>
<span id="cb14-226"><a href="#cb14-226" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb14-227"><a href="#cb14-227" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-228"><a href="#cb14-228" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-229"><a href="#cb14-229" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-230"><a href="#cb14-230" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-231"><a href="#cb14-231" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-232"><a href="#cb14-232" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;generate-api-tests&#39;</span><span class="op">,</span></span>
<span id="cb14-233"><a href="#cb14-233" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Generate comprehensive test suite from OpenAPI specification&#39;</span><span class="op">,</span></span>
<span id="cb14-234"><a href="#cb14-234" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-235"><a href="#cb14-235" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-236"><a href="#cb14-236" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-237"><a href="#cb14-237" aria-hidden="true" tabindex="-1"></a>              <span class="dt">openApiFile</span><span class="op">:</span> {</span>
<span id="cb14-238"><a href="#cb14-238" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-239"><a href="#cb14-239" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Path to OpenAPI specification file&#39;</span><span class="op">,</span></span>
<span id="cb14-240"><a href="#cb14-240" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;docs/openapi.yaml&#39;</span></span>
<span id="cb14-241"><a href="#cb14-241" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-242"><a href="#cb14-242" aria-hidden="true" tabindex="-1"></a>              <span class="dt">testFramework</span><span class="op">:</span> {</span>
<span id="cb14-243"><a href="#cb14-243" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-244"><a href="#cb14-244" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;jest&#39;</span><span class="op">,</span> <span class="st">&#39;vitest&#39;</span><span class="op">,</span> <span class="st">&#39;mocha&#39;</span>]<span class="op">,</span></span>
<span id="cb14-245"><a href="#cb14-245" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Testing framework to use&#39;</span><span class="op">,</span></span>
<span id="cb14-246"><a href="#cb14-246" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;jest&#39;</span></span>
<span id="cb14-247"><a href="#cb14-247" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-248"><a href="#cb14-248" aria-hidden="true" tabindex="-1"></a>              <span class="dt">outputDir</span><span class="op">:</span> {</span>
<span id="cb14-249"><a href="#cb14-249" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-250"><a href="#cb14-250" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Directory for generated tests&#39;</span><span class="op">,</span></span>
<span id="cb14-251"><a href="#cb14-251" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;tests/api&#39;</span></span>
<span id="cb14-252"><a href="#cb14-252" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-253"><a href="#cb14-253" aria-hidden="true" tabindex="-1"></a>              <span class="dt">includeContractTests</span><span class="op">:</span> {</span>
<span id="cb14-254"><a href="#cb14-254" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-255"><a href="#cb14-255" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Include API contract validation tests&#39;</span><span class="op">,</span></span>
<span id="cb14-256"><a href="#cb14-256" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb14-257"><a href="#cb14-257" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-258"><a href="#cb14-258" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-259"><a href="#cb14-259" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-260"><a href="#cb14-260" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-261"><a href="#cb14-261" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-262"><a href="#cb14-262" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;host-api-docs&#39;</span><span class="op">,</span></span>
<span id="cb14-263"><a href="#cb14-263" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Host interactive API documentation with live testing&#39;</span><span class="op">,</span></span>
<span id="cb14-264"><a href="#cb14-264" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-265"><a href="#cb14-265" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-266"><a href="#cb14-266" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-267"><a href="#cb14-267" aria-hidden="true" tabindex="-1"></a>              <span class="dt">openApiFile</span><span class="op">:</span> {</span>
<span id="cb14-268"><a href="#cb14-268" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-269"><a href="#cb14-269" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Path to OpenAPI specification file&#39;</span><span class="op">,</span></span>
<span id="cb14-270"><a href="#cb14-270" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;docs/openapi.yaml&#39;</span></span>
<span id="cb14-271"><a href="#cb14-271" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-272"><a href="#cb14-272" aria-hidden="true" tabindex="-1"></a>              <span class="dt">port</span><span class="op">:</span> {</span>
<span id="cb14-273"><a href="#cb14-273" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;number&#39;</span><span class="op">,</span></span>
<span id="cb14-274"><a href="#cb14-274" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Port to host documentation on&#39;</span><span class="op">,</span></span>
<span id="cb14-275"><a href="#cb14-275" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="dv">8080</span></span>
<span id="cb14-276"><a href="#cb14-276" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-277"><a href="#cb14-277" aria-hidden="true" tabindex="-1"></a>              <span class="dt">theme</span><span class="op">:</span> {</span>
<span id="cb14-278"><a href="#cb14-278" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-279"><a href="#cb14-279" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;swagger-ui&#39;</span><span class="op">,</span> <span class="st">&#39;redoc&#39;</span><span class="op">,</span> <span class="st">&#39;rapidoc&#39;</span>]<span class="op">,</span></span>
<span id="cb14-280"><a href="#cb14-280" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Documentation theme/tool&#39;</span><span class="op">,</span></span>
<span id="cb14-281"><a href="#cb14-281" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;swagger-ui&#39;</span></span>
<span id="cb14-282"><a href="#cb14-282" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-283"><a href="#cb14-283" aria-hidden="true" tabindex="-1"></a>              <span class="dt">enableTryIt</span><span class="op">:</span> {</span>
<span id="cb14-284"><a href="#cb14-284" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-285"><a href="#cb14-285" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Enable live API testing in docs&#39;</span><span class="op">,</span></span>
<span id="cb14-286"><a href="#cb14-286" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb14-287"><a href="#cb14-287" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-288"><a href="#cb14-288" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-289"><a href="#cb14-289" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-290"><a href="#cb14-290" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-291"><a href="#cb14-291" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-292"><a href="#cb14-292" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;validate-openapi&#39;</span><span class="op">,</span></span>
<span id="cb14-293"><a href="#cb14-293" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Validate OpenAPI specification and check for issues&#39;</span><span class="op">,</span></span>
<span id="cb14-294"><a href="#cb14-294" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-295"><a href="#cb14-295" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-296"><a href="#cb14-296" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-297"><a href="#cb14-297" aria-hidden="true" tabindex="-1"></a>              <span class="dt">openApiFile</span><span class="op">:</span> {</span>
<span id="cb14-298"><a href="#cb14-298" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-299"><a href="#cb14-299" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Path to OpenAPI specification file&#39;</span><span class="op">,</span></span>
<span id="cb14-300"><a href="#cb14-300" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;docs/openapi.yaml&#39;</span></span>
<span id="cb14-301"><a href="#cb14-301" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-302"><a href="#cb14-302" aria-hidden="true" tabindex="-1"></a>              <span class="dt">strict</span><span class="op">:</span> {</span>
<span id="cb14-303"><a href="#cb14-303" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-304"><a href="#cb14-304" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Enable strict validation rules&#39;</span><span class="op">,</span></span>
<span id="cb14-305"><a href="#cb14-305" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb14-306"><a href="#cb14-306" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-307"><a href="#cb14-307" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-308"><a href="#cb14-308" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-309"><a href="#cb14-309" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-310"><a href="#cb14-310" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-311"><a href="#cb14-311" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;analyze-sentry-errors&#39;</span><span class="op">,</span></span>
<span id="cb14-312"><a href="#cb14-312" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Analyze recent Sentry errors and suggest fixes&#39;</span><span class="op">,</span></span>
<span id="cb14-313"><a href="#cb14-313" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-314"><a href="#cb14-314" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-315"><a href="#cb14-315" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-316"><a href="#cb14-316" aria-hidden="true" tabindex="-1"></a>              <span class="dt">timeRange</span><span class="op">:</span> {</span>
<span id="cb14-317"><a href="#cb14-317" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-318"><a href="#cb14-318" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;1h&#39;</span><span class="op">,</span> <span class="st">&#39;24h&#39;</span><span class="op">,</span> <span class="st">&#39;7d&#39;</span><span class="op">,</span> <span class="st">&#39;30d&#39;</span>]<span class="op">,</span></span>
<span id="cb14-319"><a href="#cb14-319" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;24h&#39;</span></span>
<span id="cb14-320"><a href="#cb14-320" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-321"><a href="#cb14-321" aria-hidden="true" tabindex="-1"></a>              <span class="dt">environment</span><span class="op">:</span> {</span>
<span id="cb14-322"><a href="#cb14-322" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-323"><a href="#cb14-323" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;production&#39;</span></span>
<span id="cb14-324"><a href="#cb14-324" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-325"><a href="#cb14-325" aria-hidden="true" tabindex="-1"></a>              <span class="dt">autoFix</span><span class="op">:</span> {</span>
<span id="cb14-326"><a href="#cb14-326" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-327"><a href="#cb14-327" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Attempt to create fixes for common errors&#39;</span><span class="op">,</span></span>
<span id="cb14-328"><a href="#cb14-328" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb14-329"><a href="#cb14-329" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-330"><a href="#cb14-330" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-331"><a href="#cb14-331" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-332"><a href="#cb14-332" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-333"><a href="#cb14-333" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-334"><a href="#cb14-334" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;create-sentry-release&#39;</span><span class="op">,</span></span>
<span id="cb14-335"><a href="#cb14-335" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Create a new Sentry release with commits and deploy info&#39;</span><span class="op">,</span></span>
<span id="cb14-336"><a href="#cb14-336" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-337"><a href="#cb14-337" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-338"><a href="#cb14-338" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-339"><a href="#cb14-339" aria-hidden="true" tabindex="-1"></a>              <span class="dt">version</span><span class="op">:</span> {</span>
<span id="cb14-340"><a href="#cb14-340" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-341"><a href="#cb14-341" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Release version (e.g., 1.0.0 or git SHA)&#39;</span></span>
<span id="cb14-342"><a href="#cb14-342" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-343"><a href="#cb14-343" aria-hidden="true" tabindex="-1"></a>              <span class="dt">environment</span><span class="op">:</span> {</span>
<span id="cb14-344"><a href="#cb14-344" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-345"><a href="#cb14-345" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;production&#39;</span></span>
<span id="cb14-346"><a href="#cb14-346" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-347"><a href="#cb14-347" aria-hidden="true" tabindex="-1"></a>              <span class="dt">uploadSourcemaps</span><span class="op">:</span> {</span>
<span id="cb14-348"><a href="#cb14-348" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;boolean&#39;</span><span class="op">,</span></span>
<span id="cb14-349"><a href="#cb14-349" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb14-350"><a href="#cb14-350" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-351"><a href="#cb14-351" aria-hidden="true" tabindex="-1"></a>            }<span class="op">,</span></span>
<span id="cb14-352"><a href="#cb14-352" aria-hidden="true" tabindex="-1"></a>            <span class="dt">required</span><span class="op">:</span> [<span class="st">&#39;version&#39;</span>]</span>
<span id="cb14-353"><a href="#cb14-353" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-354"><a href="#cb14-354" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-355"><a href="#cb14-355" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb14-356"><a href="#cb14-356" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> <span class="st">&#39;check-error-budget&#39;</span><span class="op">,</span></span>
<span id="cb14-357"><a href="#cb14-357" aria-hidden="true" tabindex="-1"></a>          <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Check current error budget and alert if threshold exceeded&#39;</span><span class="op">,</span></span>
<span id="cb14-358"><a href="#cb14-358" aria-hidden="true" tabindex="-1"></a>          <span class="dt">inputSchema</span><span class="op">:</span> {</span>
<span id="cb14-359"><a href="#cb14-359" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;object&#39;</span><span class="op">,</span></span>
<span id="cb14-360"><a href="#cb14-360" aria-hidden="true" tabindex="-1"></a>            <span class="dt">properties</span><span class="op">:</span> {</span>
<span id="cb14-361"><a href="#cb14-361" aria-hidden="true" tabindex="-1"></a>              <span class="dt">threshold</span><span class="op">:</span> {</span>
<span id="cb14-362"><a href="#cb14-362" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;number&#39;</span><span class="op">,</span></span>
<span id="cb14-363"><a href="#cb14-363" aria-hidden="true" tabindex="-1"></a>                <span class="dt">description</span><span class="op">:</span> <span class="st">&#39;Error rate threshold percentage&#39;</span><span class="op">,</span></span>
<span id="cb14-364"><a href="#cb14-364" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="fl">1.0</span></span>
<span id="cb14-365"><a href="#cb14-365" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-366"><a href="#cb14-366" aria-hidden="true" tabindex="-1"></a>              <span class="dt">period</span><span class="op">:</span> {</span>
<span id="cb14-367"><a href="#cb14-367" aria-hidden="true" tabindex="-1"></a>                <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;string&#39;</span><span class="op">,</span></span>
<span id="cb14-368"><a href="#cb14-368" aria-hidden="true" tabindex="-1"></a>                <span class="dt">enum</span><span class="op">:</span> [<span class="st">&#39;1h&#39;</span><span class="op">,</span> <span class="st">&#39;6h&#39;</span><span class="op">,</span> <span class="st">&#39;24h&#39;</span>]<span class="op">,</span></span>
<span id="cb14-369"><a href="#cb14-369" aria-hidden="true" tabindex="-1"></a>                <span class="cf">default</span><span class="op">:</span> <span class="st">&#39;1h&#39;</span></span>
<span id="cb14-370"><a href="#cb14-370" aria-hidden="true" tabindex="-1"></a>              }</span>
<span id="cb14-371"><a href="#cb14-371" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-372"><a href="#cb14-372" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-373"><a href="#cb14-373" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb14-374"><a href="#cb14-374" aria-hidden="true" tabindex="-1"></a>      ]</span>
<span id="cb14-375"><a href="#cb14-375" aria-hidden="true" tabindex="-1"></a>    }))<span class="op">;</span></span>
<span id="cb14-376"><a href="#cb14-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-377"><a href="#cb14-377" aria-hidden="true" tabindex="-1"></a>    <span class="kw">this</span><span class="op">.</span><span class="at">server</span><span class="op">.</span><span class="fu">setRequestHandler</span>(CallToolRequestSchema<span class="op">,</span> <span class="kw">async</span> (request) <span class="kw">=&gt;</span> {</span>
<span id="cb14-378"><a href="#cb14-378" aria-hidden="true" tabindex="-1"></a>      <span class="cf">try</span> {</span>
<span id="cb14-379"><a href="#cb14-379" aria-hidden="true" tabindex="-1"></a>        <span class="cf">switch</span> (request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">name</span>) {</span>
<span id="cb14-380"><a href="#cb14-380" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;analyze-bundle-size&#39;</span><span class="op">:</span></span>
<span id="cb14-381"><a href="#cb14-381" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">analyzeBundleSize</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-382"><a href="#cb14-382" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;run-lighthouse&#39;</span><span class="op">:</span></span>
<span id="cb14-383"><a href="#cb14-383" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">runLighthouse</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-384"><a href="#cb14-384" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;check-dependencies&#39;</span><span class="op">:</span></span>
<span id="cb14-385"><a href="#cb14-385" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">checkDependencies</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-386"><a href="#cb14-386" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;audit-packages&#39;</span><span class="op">:</span></span>
<span id="cb14-387"><a href="#cb14-387" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">auditPackages</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-388"><a href="#cb14-388" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;update-packages&#39;</span><span class="op">:</span></span>
<span id="cb14-389"><a href="#cb14-389" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">updatePackages</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-390"><a href="#cb14-390" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;analyze-package-health&#39;</span><span class="op">:</span></span>
<span id="cb14-391"><a href="#cb14-391" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">analyzePackageHealth</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-392"><a href="#cb14-392" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;generate-api-docs&#39;</span><span class="op">:</span></span>
<span id="cb14-393"><a href="#cb14-393" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">generateApiDocs</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-394"><a href="#cb14-394" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;build-openapi-spec&#39;</span><span class="op">:</span></span>
<span id="cb14-395"><a href="#cb14-395" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">buildOpenApiSpec</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-396"><a href="#cb14-396" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;generate-postman-collection&#39;</span><span class="op">:</span></span>
<span id="cb14-397"><a href="#cb14-397" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">generatePostmanCollection</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-398"><a href="#cb14-398" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;generate-api-tests&#39;</span><span class="op">:</span></span>
<span id="cb14-399"><a href="#cb14-399" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">generateApiTests</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-400"><a href="#cb14-400" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;host-api-docs&#39;</span><span class="op">:</span></span>
<span id="cb14-401"><a href="#cb14-401" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">hostApiDocs</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-402"><a href="#cb14-402" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;validate-openapi&#39;</span><span class="op">:</span></span>
<span id="cb14-403"><a href="#cb14-403" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">validateOpenApi</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-404"><a href="#cb14-404" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;analyze-sentry-errors&#39;</span><span class="op">:</span></span>
<span id="cb14-405"><a href="#cb14-405" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">analyzeSentryErrors</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-406"><a href="#cb14-406" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;create-sentry-release&#39;</span><span class="op">:</span></span>
<span id="cb14-407"><a href="#cb14-407" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">createSentryRelease</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-408"><a href="#cb14-408" aria-hidden="true" tabindex="-1"></a>          <span class="cf">case</span> <span class="st">&#39;check-error-budget&#39;</span><span class="op">:</span></span>
<span id="cb14-409"><a href="#cb14-409" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">checkErrorBudget</span>(request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">arguments</span>)<span class="op">;</span></span>
<span id="cb14-410"><a href="#cb14-410" aria-hidden="true" tabindex="-1"></a>          <span class="cf">default</span><span class="op">:</span></span>
<span id="cb14-411"><a href="#cb14-411" aria-hidden="true" tabindex="-1"></a>            <span class="cf">throw</span> <span class="kw">new</span> <span class="fu">McpError</span>(</span>
<span id="cb14-412"><a href="#cb14-412" aria-hidden="true" tabindex="-1"></a>              ErrorCode<span class="op">.</span><span class="at">MethodNotFound</span><span class="op">,</span></span>
<span id="cb14-413"><a href="#cb14-413" aria-hidden="true" tabindex="-1"></a>              <span class="vs">`Unknown tool: </span><span class="sc">${</span>request<span class="op">.</span><span class="at">params</span><span class="op">.</span><span class="at">name</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb14-414"><a href="#cb14-414" aria-hidden="true" tabindex="-1"></a>            )<span class="op">;</span></span>
<span id="cb14-415"><a href="#cb14-415" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb14-416"><a href="#cb14-416" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">catch</span> (error) {</span>
<span id="cb14-417"><a href="#cb14-417" aria-hidden="true" tabindex="-1"></a>        <span class="cf">throw</span> <span class="kw">new</span> <span class="fu">McpError</span>(</span>
<span id="cb14-418"><a href="#cb14-418" aria-hidden="true" tabindex="-1"></a>          ErrorCode<span class="op">.</span><span class="at">InternalError</span><span class="op">,</span></span>
<span id="cb14-419"><a href="#cb14-419" aria-hidden="true" tabindex="-1"></a>          <span class="vs">`Tool execution failed: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span></span>
<span id="cb14-420"><a href="#cb14-420" aria-hidden="true" tabindex="-1"></a>        )<span class="op">;</span></span>
<span id="cb14-421"><a href="#cb14-421" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-422"><a href="#cb14-422" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb14-423"><a href="#cb14-423" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-424"><a href="#cb14-424" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-425"><a href="#cb14-425" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">analyzeBundleSize</span>(args) {</span>
<span id="cb14-426"><a href="#cb14-426" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { buildPath <span class="op">=</span> <span class="st">&#39;dist&#39;</span> } <span class="op">=</span> args <span class="op">||</span> {}<span class="op">;</span></span>
<span id="cb14-427"><a href="#cb14-427" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-428"><a href="#cb14-428" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb14-429"><a href="#cb14-429" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> { stdout } <span class="op">=</span> <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="vs">`npm run build -- --analyze`</span>)<span class="op">;</span></span>
<span id="cb14-430"><a href="#cb14-430" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> buildFiles <span class="op">=</span> <span class="cf">await</span> fs<span class="op">.</span><span class="fu">readdir</span>(buildPath)<span class="op">;</span></span>
<span id="cb14-431"><a href="#cb14-431" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-432"><a href="#cb14-432" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> sizeAnalysis <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb14-433"><a href="#cb14-433" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (<span class="kw">const</span> file <span class="kw">of</span> buildFiles) {</span>
<span id="cb14-434"><a href="#cb14-434" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> (file<span class="op">.</span><span class="fu">endsWith</span>(<span class="st">&#39;.js&#39;</span>) <span class="op">||</span> file<span class="op">.</span><span class="fu">endsWith</span>(<span class="st">&#39;.css&#39;</span>)) {</span>
<span id="cb14-435"><a href="#cb14-435" aria-hidden="true" tabindex="-1"></a>          <span class="kw">const</span> filePath <span class="op">=</span> path<span class="op">.</span><span class="fu">join</span>(buildPath<span class="op">,</span> file)<span class="op">;</span></span>
<span id="cb14-436"><a href="#cb14-436" aria-hidden="true" tabindex="-1"></a>          <span class="kw">const</span> stats <span class="op">=</span> <span class="cf">await</span> fs<span class="op">.</span><span class="fu">stat</span>(filePath)<span class="op">;</span></span>
<span id="cb14-437"><a href="#cb14-437" aria-hidden="true" tabindex="-1"></a>          sizeAnalysis<span class="op">.</span><span class="fu">push</span>({</span>
<span id="cb14-438"><a href="#cb14-438" aria-hidden="true" tabindex="-1"></a>            file<span class="op">,</span></span>
<span id="cb14-439"><a href="#cb14-439" aria-hidden="true" tabindex="-1"></a>            <span class="dt">size</span><span class="op">:</span> stats<span class="op">.</span><span class="at">size</span><span class="op">,</span></span>
<span id="cb14-440"><a href="#cb14-440" aria-hidden="true" tabindex="-1"></a>            <span class="dt">sizeFormatted</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">formatBytes</span>(stats<span class="op">.</span><span class="at">size</span>)</span>
<span id="cb14-441"><a href="#cb14-441" aria-hidden="true" tabindex="-1"></a>          })<span class="op">;</span></span>
<span id="cb14-442"><a href="#cb14-442" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb14-443"><a href="#cb14-443" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-444"><a href="#cb14-444" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-445"><a href="#cb14-445" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> totalSize <span class="op">=</span> sizeAnalysis<span class="op">.</span><span class="fu">reduce</span>((sum<span class="op">,</span> item) <span class="kw">=&gt;</span> sum <span class="op">+</span> item<span class="op">.</span><span class="at">size</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb14-446"><a href="#cb14-446" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-447"><a href="#cb14-447" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> {</span>
<span id="cb14-448"><a href="#cb14-448" aria-hidden="true" tabindex="-1"></a>        <span class="dt">content</span><span class="op">:</span> [</span>
<span id="cb14-449"><a href="#cb14-449" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb14-450"><a href="#cb14-450" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;text&#39;</span><span class="op">,</span></span>
<span id="cb14-451"><a href="#cb14-451" aria-hidden="true" tabindex="-1"></a>            <span class="dt">text</span><span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>({</span>
<span id="cb14-452"><a href="#cb14-452" aria-hidden="true" tabindex="-1"></a>              <span class="dt">totalSize</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">formatBytes</span>(totalSize)<span class="op">,</span></span>
<span id="cb14-453"><a href="#cb14-453" aria-hidden="true" tabindex="-1"></a>              <span class="dt">files</span><span class="op">:</span> sizeAnalysis<span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> b<span class="op">.</span><span class="at">size</span> <span class="op">-</span> a<span class="op">.</span><span class="at">size</span>)<span class="op">,</span></span>
<span id="cb14-454"><a href="#cb14-454" aria-hidden="true" tabindex="-1"></a>              <span class="dt">recommendations</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">getBundleOptimizationTips</span>(sizeAnalysis)</span>
<span id="cb14-455"><a href="#cb14-455" aria-hidden="true" tabindex="-1"></a>            }<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb14-456"><a href="#cb14-456" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-457"><a href="#cb14-457" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb14-458"><a href="#cb14-458" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-459"><a href="#cb14-459" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb14-460"><a href="#cb14-460" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="vs">`Bundle analysis failed: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-461"><a href="#cb14-461" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-462"><a href="#cb14-462" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-463"><a href="#cb14-463" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-464"><a href="#cb14-464" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">runLighthouse</span>(args) {</span>
<span id="cb14-465"><a href="#cb14-465" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { url<span class="op">,</span> preset <span class="op">=</span> <span class="st">&#39;mobile&#39;</span> } <span class="op">=</span> args<span class="op">;</span></span>
<span id="cb14-466"><a href="#cb14-466" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-467"><a href="#cb14-467" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>url) {</span>
<span id="cb14-468"><a href="#cb14-468" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="st">&#39;URL is required for Lighthouse analysis&#39;</span>)<span class="op">;</span></span>
<span id="cb14-469"><a href="#cb14-469" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-470"><a href="#cb14-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-471"><a href="#cb14-471" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb14-472"><a href="#cb14-472" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> configFlag <span class="op">=</span> preset <span class="op">===</span> <span class="st">&#39;mobile&#39;</span> <span class="op">?</span> <span class="st">&#39;--preset=perf&#39;</span> <span class="op">:</span> <span class="st">&#39;--preset=desktop&#39;</span><span class="op">;</span></span>
<span id="cb14-473"><a href="#cb14-473" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> { stdout } <span class="op">=</span> <span class="cf">await</span> <span class="fu">execAsync</span>(</span>
<span id="cb14-474"><a href="#cb14-474" aria-hidden="true" tabindex="-1"></a>        <span class="vs">`npx lighthouse </span><span class="sc">${</span>url<span class="sc">}</span><span class="vs"> </span><span class="sc">${</span>configFlag<span class="sc">}</span><span class="vs"> --output json --quiet`</span></span>
<span id="cb14-475"><a href="#cb14-475" aria-hidden="true" tabindex="-1"></a>      )<span class="op">;</span></span>
<span id="cb14-476"><a href="#cb14-476" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-477"><a href="#cb14-477" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> report <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>(stdout)<span class="op">;</span></span>
<span id="cb14-478"><a href="#cb14-478" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-479"><a href="#cb14-479" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> {</span>
<span id="cb14-480"><a href="#cb14-480" aria-hidden="true" tabindex="-1"></a>        <span class="dt">content</span><span class="op">:</span> [</span>
<span id="cb14-481"><a href="#cb14-481" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb14-482"><a href="#cb14-482" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;text&#39;</span><span class="op">,</span></span>
<span id="cb14-483"><a href="#cb14-483" aria-hidden="true" tabindex="-1"></a>            <span class="dt">text</span><span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>({</span>
<span id="cb14-484"><a href="#cb14-484" aria-hidden="true" tabindex="-1"></a>              url<span class="op">,</span></span>
<span id="cb14-485"><a href="#cb14-485" aria-hidden="true" tabindex="-1"></a>              <span class="dt">performance</span><span class="op">:</span> report<span class="op">.</span><span class="at">lhr</span><span class="op">.</span><span class="at">categories</span><span class="op">.</span><span class="at">performance</span><span class="op">.</span><span class="at">score</span> <span class="op">*</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb14-486"><a href="#cb14-486" aria-hidden="true" tabindex="-1"></a>              <span class="dt">accessibility</span><span class="op">:</span> report<span class="op">.</span><span class="at">lhr</span><span class="op">.</span><span class="at">categories</span><span class="op">.</span><span class="at">accessibility</span><span class="op">.</span><span class="at">score</span> <span class="op">*</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb14-487"><a href="#cb14-487" aria-hidden="true" tabindex="-1"></a>              <span class="dt">bestPractices</span><span class="op">:</span> report<span class="op">.</span><span class="at">lhr</span><span class="op">.</span><span class="at">categories</span>[<span class="st">&#39;best-practices&#39;</span>]<span class="op">.</span><span class="at">score</span> <span class="op">*</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb14-488"><a href="#cb14-488" aria-hidden="true" tabindex="-1"></a>              <span class="dt">seo</span><span class="op">:</span> report<span class="op">.</span><span class="at">lhr</span><span class="op">.</span><span class="at">categories</span><span class="op">.</span><span class="at">seo</span><span class="op">.</span><span class="at">score</span> <span class="op">*</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb14-489"><a href="#cb14-489" aria-hidden="true" tabindex="-1"></a>              <span class="dt">metrics</span><span class="op">:</span> {</span>
<span id="cb14-490"><a href="#cb14-490" aria-hidden="true" tabindex="-1"></a>                <span class="dt">firstContentfulPaint</span><span class="op">:</span> report<span class="op">.</span><span class="at">lhr</span><span class="op">.</span><span class="at">audits</span>[<span class="st">&#39;first-contentful-paint&#39;</span>]<span class="op">.</span><span class="at">displayValue</span><span class="op">,</span></span>
<span id="cb14-491"><a href="#cb14-491" aria-hidden="true" tabindex="-1"></a>                <span class="dt">largestContentfulPaint</span><span class="op">:</span> report<span class="op">.</span><span class="at">lhr</span><span class="op">.</span><span class="at">audits</span>[<span class="st">&#39;largest-contentful-paint&#39;</span>]<span class="op">.</span><span class="at">displayValue</span><span class="op">,</span></span>
<span id="cb14-492"><a href="#cb14-492" aria-hidden="true" tabindex="-1"></a>                <span class="dt">speedIndex</span><span class="op">:</span> report<span class="op">.</span><span class="at">lhr</span><span class="op">.</span><span class="at">audits</span>[<span class="st">&#39;speed-index&#39;</span>]<span class="op">.</span><span class="at">displayValue</span><span class="op">,</span></span>
<span id="cb14-493"><a href="#cb14-493" aria-hidden="true" tabindex="-1"></a>                <span class="dt">timeToInteractive</span><span class="op">:</span> report<span class="op">.</span><span class="at">lhr</span><span class="op">.</span><span class="at">audits</span>[<span class="st">&#39;interactive&#39;</span>]<span class="op">.</span><span class="at">displayValue</span></span>
<span id="cb14-494"><a href="#cb14-494" aria-hidden="true" tabindex="-1"></a>              }<span class="op">,</span></span>
<span id="cb14-495"><a href="#cb14-495" aria-hidden="true" tabindex="-1"></a>              <span class="dt">opportunities</span><span class="op">:</span> report<span class="op">.</span><span class="at">lhr</span><span class="op">.</span><span class="at">audits</span>[<span class="st">&#39;opportunities&#39;</span>] <span class="op">||</span> []</span>
<span id="cb14-496"><a href="#cb14-496" aria-hidden="true" tabindex="-1"></a>            }<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb14-497"><a href="#cb14-497" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-498"><a href="#cb14-498" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb14-499"><a href="#cb14-499" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-500"><a href="#cb14-500" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb14-501"><a href="#cb14-501" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="vs">`Lighthouse analysis failed: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-502"><a href="#cb14-502" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-503"><a href="#cb14-503" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-504"><a href="#cb14-504" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-505"><a href="#cb14-505" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">checkDependencies</span>(args) {</span>
<span id="cb14-506"><a href="#cb14-506" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { fix <span class="op">=</span> <span class="kw">false</span><span class="op">,</span> severity <span class="op">=</span> <span class="st">&#39;moderate&#39;</span><span class="op">,</span> packageManager <span class="op">=</span> <span class="st">&#39;npm&#39;</span> } <span class="op">=</span> args <span class="op">||</span> {}<span class="op">;</span></span>
<span id="cb14-507"><a href="#cb14-507" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-508"><a href="#cb14-508" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb14-509"><a href="#cb14-509" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> results <span class="op">=</span> {</span>
<span id="cb14-510"><a href="#cb14-510" aria-hidden="true" tabindex="-1"></a>        packageManager<span class="op">,</span></span>
<span id="cb14-511"><a href="#cb14-511" aria-hidden="true" tabindex="-1"></a>        <span class="dt">timestamp</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toISOString</span>()<span class="op">,</span></span>
<span id="cb14-512"><a href="#cb14-512" aria-hidden="true" tabindex="-1"></a>        <span class="dt">outdated</span><span class="op">:</span> {}<span class="op">,</span></span>
<span id="cb14-513"><a href="#cb14-513" aria-hidden="true" tabindex="-1"></a>        <span class="dt">vulnerabilities</span><span class="op">:</span> {}<span class="op">,</span></span>
<span id="cb14-514"><a href="#cb14-514" aria-hidden="true" tabindex="-1"></a>        <span class="dt">summary</span><span class="op">:</span> {}</span>
<span id="cb14-515"><a href="#cb14-515" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-516"><a href="#cb14-516" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-517"><a href="#cb14-517" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Check for outdated packages</span></span>
<span id="cb14-518"><a href="#cb14-518" aria-hidden="true" tabindex="-1"></a>      <span class="cf">try</span> {</span>
<span id="cb14-519"><a href="#cb14-519" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> outdatedCmd <span class="op">=</span> {</span>
<span id="cb14-520"><a href="#cb14-520" aria-hidden="true" tabindex="-1"></a>          <span class="dt">npm</span><span class="op">:</span> <span class="st">&#39;npm outdated --json&#39;</span><span class="op">,</span></span>
<span id="cb14-521"><a href="#cb14-521" aria-hidden="true" tabindex="-1"></a>          <span class="dt">yarn</span><span class="op">:</span> <span class="st">&#39;yarn outdated --json&#39;</span><span class="op">,</span></span>
<span id="cb14-522"><a href="#cb14-522" aria-hidden="true" tabindex="-1"></a>          <span class="dt">pnpm</span><span class="op">:</span> <span class="st">&#39;pnpm outdated --format json&#39;</span></span>
<span id="cb14-523"><a href="#cb14-523" aria-hidden="true" tabindex="-1"></a>        }[packageManager]<span class="op">;</span></span>
<span id="cb14-524"><a href="#cb14-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-525"><a href="#cb14-525" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> { <span class="dt">stdout</span><span class="op">:</span> outdated } <span class="op">=</span> <span class="cf">await</span> <span class="fu">execAsync</span>(outdatedCmd)<span class="op">.</span><span class="fu">catch</span>(() <span class="kw">=&gt;</span> ({ <span class="dt">stdout</span><span class="op">:</span> <span class="st">&#39;{}&#39;</span> }))<span class="op">;</span></span>
<span id="cb14-526"><a href="#cb14-526" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> outdatedPackages <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>(outdated)<span class="op">;</span></span>
<span id="cb14-527"><a href="#cb14-527" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb14-528"><a href="#cb14-528" aria-hidden="true" tabindex="-1"></a>        results<span class="op">.</span><span class="at">outdated</span> <span class="op">=</span> {</span>
<span id="cb14-529"><a href="#cb14-529" aria-hidden="true" tabindex="-1"></a>          <span class="dt">count</span><span class="op">:</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(outdatedPackages)<span class="op">.</span><span class="at">length</span><span class="op">,</span></span>
<span id="cb14-530"><a href="#cb14-530" aria-hidden="true" tabindex="-1"></a>          <span class="dt">packages</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">categorizeOutdatedPackages</span>(outdatedPackages)<span class="op">,</span></span>
<span id="cb14-531"><a href="#cb14-531" aria-hidden="true" tabindex="-1"></a>          <span class="dt">critical</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">findCriticalUpdates</span>(outdatedPackages)</span>
<span id="cb14-532"><a href="#cb14-532" aria-hidden="true" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb14-533"><a href="#cb14-533" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">catch</span> (error) {</span>
<span id="cb14-534"><a href="#cb14-534" aria-hidden="true" tabindex="-1"></a>        results<span class="op">.</span><span class="at">outdated</span><span class="op">.</span><span class="at">error</span> <span class="op">=</span> error<span class="op">.</span><span class="at">message</span><span class="op">;</span></span>
<span id="cb14-535"><a href="#cb14-535" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-536"><a href="#cb14-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-537"><a href="#cb14-537" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Security audit</span></span>
<span id="cb14-538"><a href="#cb14-538" aria-hidden="true" tabindex="-1"></a>      <span class="cf">try</span> {</span>
<span id="cb14-539"><a href="#cb14-539" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> auditCmd <span class="op">=</span> {</span>
<span id="cb14-540"><a href="#cb14-540" aria-hidden="true" tabindex="-1"></a>          <span class="dt">npm</span><span class="op">:</span> <span class="st">&#39;npm audit --json&#39;</span><span class="op">,</span></span>
<span id="cb14-541"><a href="#cb14-541" aria-hidden="true" tabindex="-1"></a>          <span class="dt">yarn</span><span class="op">:</span> <span class="st">&#39;yarn audit --json&#39;</span><span class="op">,</span></span>
<span id="cb14-542"><a href="#cb14-542" aria-hidden="true" tabindex="-1"></a>          <span class="dt">pnpm</span><span class="op">:</span> <span class="st">&#39;pnpm audit --json&#39;</span></span>
<span id="cb14-543"><a href="#cb14-543" aria-hidden="true" tabindex="-1"></a>        }[packageManager]<span class="op">;</span></span>
<span id="cb14-544"><a href="#cb14-544" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-545"><a href="#cb14-545" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> { <span class="dt">stdout</span><span class="op">:</span> audit } <span class="op">=</span> <span class="cf">await</span> <span class="fu">execAsync</span>(auditCmd)<span class="op">.</span><span class="fu">catch</span>(() <span class="kw">=&gt;</span> ({ <span class="dt">stdout</span><span class="op">:</span> <span class="st">&#39;{&quot;vulnerabilities&quot;:{}}&#39;</span> }))<span class="op">;</span></span>
<span id="cb14-546"><a href="#cb14-546" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> auditResult <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>(audit)<span class="op">;</span></span>
<span id="cb14-547"><a href="#cb14-547" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb14-548"><a href="#cb14-548" aria-hidden="true" tabindex="-1"></a>        results<span class="op">.</span><span class="at">vulnerabilities</span> <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="fu">processAuditResults</span>(auditResult<span class="op">,</span> severity)<span class="op">;</span></span>
<span id="cb14-549"><a href="#cb14-549" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">catch</span> (error) {</span>
<span id="cb14-550"><a href="#cb14-550" aria-hidden="true" tabindex="-1"></a>        results<span class="op">.</span><span class="at">vulnerabilities</span><span class="op">.</span><span class="at">error</span> <span class="op">=</span> error<span class="op">.</span><span class="at">message</span><span class="op">;</span></span>
<span id="cb14-551"><a href="#cb14-551" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-552"><a href="#cb14-552" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-553"><a href="#cb14-553" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Generate summary and recommendations</span></span>
<span id="cb14-554"><a href="#cb14-554" aria-hidden="true" tabindex="-1"></a>      results<span class="op">.</span><span class="at">summary</span> <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="fu">generateDependencySummary</span>(results)<span class="op">;</span></span>
<span id="cb14-555"><a href="#cb14-555" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-556"><a href="#cb14-556" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Apply fixes if requested</span></span>
<span id="cb14-557"><a href="#cb14-557" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (fix) {</span>
<span id="cb14-558"><a href="#cb14-558" aria-hidden="true" tabindex="-1"></a>        results<span class="op">.</span><span class="at">fixes</span> <span class="op">=</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">applyDependencyFixes</span>(packageManager<span class="op">,</span> results)<span class="op">;</span></span>
<span id="cb14-559"><a href="#cb14-559" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-560"><a href="#cb14-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-561"><a href="#cb14-561" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> {</span>
<span id="cb14-562"><a href="#cb14-562" aria-hidden="true" tabindex="-1"></a>        <span class="dt">content</span><span class="op">:</span> [</span>
<span id="cb14-563"><a href="#cb14-563" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb14-564"><a href="#cb14-564" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;text&#39;</span><span class="op">,</span></span>
<span id="cb14-565"><a href="#cb14-565" aria-hidden="true" tabindex="-1"></a>            <span class="dt">text</span><span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>(results<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb14-566"><a href="#cb14-566" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-567"><a href="#cb14-567" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb14-568"><a href="#cb14-568" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-569"><a href="#cb14-569" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb14-570"><a href="#cb14-570" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="vs">`Dependency check failed: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-571"><a href="#cb14-571" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-572"><a href="#cb14-572" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-573"><a href="#cb14-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-574"><a href="#cb14-574" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">auditPackages</span>(args) {</span>
<span id="cb14-575"><a href="#cb14-575" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { format <span class="op">=</span> <span class="st">&#39;summary&#39;</span><span class="op">,</span> production <span class="op">=</span> <span class="kw">false</span> } <span class="op">=</span> args <span class="op">||</span> {}<span class="op">;</span></span>
<span id="cb14-576"><a href="#cb14-576" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-577"><a href="#cb14-577" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb14-578"><a href="#cb14-578" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Run comprehensive security audit</span></span>
<span id="cb14-579"><a href="#cb14-579" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> auditCmd <span class="op">=</span> production <span class="op">?</span> <span class="st">&#39;npm audit --production --json&#39;</span> <span class="op">:</span> <span class="st">&#39;npm audit --json&#39;</span><span class="op">;</span></span>
<span id="cb14-580"><a href="#cb14-580" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> { <span class="dt">stdout</span><span class="op">:</span> auditOutput } <span class="op">=</span> <span class="cf">await</span> <span class="fu">execAsync</span>(auditCmd)<span class="op">.</span><span class="fu">catch</span>(() <span class="kw">=&gt;</span> ({ <span class="dt">stdout</span><span class="op">:</span> <span class="st">&#39;{&quot;vulnerabilities&quot;:{}}&#39;</span> }))<span class="op">;</span></span>
<span id="cb14-581"><a href="#cb14-581" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> auditData <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>(auditOutput)<span class="op">;</span></span>
<span id="cb14-582"><a href="#cb14-582" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-583"><a href="#cb14-583" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Get additional security information</span></span>
<span id="cb14-584"><a href="#cb14-584" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> { <span class="dt">stdout</span><span class="op">:</span> licenseCheck } <span class="op">=</span> <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="st">&#39;npx license-checker --json&#39;</span>)<span class="op">.</span><span class="fu">catch</span>(() <span class="kw">=&gt;</span> ({ <span class="dt">stdout</span><span class="op">:</span> <span class="st">&#39;{}&#39;</span> }))<span class="op">;</span></span>
<span id="cb14-585"><a href="#cb14-585" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> licenses <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>(licenseCheck)<span class="op">;</span></span>
<span id="cb14-586"><a href="#cb14-586" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-587"><a href="#cb14-587" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> analysis <span class="op">=</span> {</span>
<span id="cb14-588"><a href="#cb14-588" aria-hidden="true" tabindex="-1"></a>        <span class="dt">securityAudit</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">analyzeSecurityAudit</span>(auditData)<span class="op">,</span></span>
<span id="cb14-589"><a href="#cb14-589" aria-hidden="true" tabindex="-1"></a>        <span class="dt">licenseAnalysis</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">analyzeLicenses</span>(licenses)<span class="op">,</span></span>
<span id="cb14-590"><a href="#cb14-590" aria-hidden="true" tabindex="-1"></a>        <span class="dt">recommendations</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">generateSecurityRecommendations</span>(auditData)<span class="op">,</span></span>
<span id="cb14-591"><a href="#cb14-591" aria-hidden="true" tabindex="-1"></a>        <span class="dt">riskAssessment</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">assessSecurityRisk</span>(auditData)</span>
<span id="cb14-592"><a href="#cb14-592" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-593"><a href="#cb14-593" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-594"><a href="#cb14-594" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> output <span class="op">=</span> format <span class="op">===</span> <span class="st">&#39;json&#39;</span> <span class="op">?</span> analysis <span class="op">:</span></span>
<span id="cb14-595"><a href="#cb14-595" aria-hidden="true" tabindex="-1"></a>                    format <span class="op">===</span> <span class="st">&#39;table&#39;</span> <span class="op">?</span> <span class="kw">this</span><span class="op">.</span><span class="fu">formatAuditTable</span>(analysis) <span class="op">:</span></span>
<span id="cb14-596"><a href="#cb14-596" aria-hidden="true" tabindex="-1"></a>                    <span class="kw">this</span><span class="op">.</span><span class="fu">formatAuditSummary</span>(analysis)<span class="op">;</span></span>
<span id="cb14-597"><a href="#cb14-597" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-598"><a href="#cb14-598" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> {</span>
<span id="cb14-599"><a href="#cb14-599" aria-hidden="true" tabindex="-1"></a>        <span class="dt">content</span><span class="op">:</span> [</span>
<span id="cb14-600"><a href="#cb14-600" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb14-601"><a href="#cb14-601" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;text&#39;</span><span class="op">,</span></span>
<span id="cb14-602"><a href="#cb14-602" aria-hidden="true" tabindex="-1"></a>            <span class="dt">text</span><span class="op">:</span> <span class="kw">typeof</span> output <span class="op">===</span> <span class="st">&#39;string&#39;</span> <span class="op">?</span> output <span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>(output<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb14-603"><a href="#cb14-603" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-604"><a href="#cb14-604" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb14-605"><a href="#cb14-605" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-606"><a href="#cb14-606" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb14-607"><a href="#cb14-607" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="vs">`Package audit failed: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-608"><a href="#cb14-608" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-609"><a href="#cb14-609" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-610"><a href="#cb14-610" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-611"><a href="#cb14-611" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">updatePackages</span>(args) {</span>
<span id="cb14-612"><a href="#cb14-612" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { strategy <span class="op">=</span> <span class="st">&#39;minor&#39;</span><span class="op">,</span> dryRun <span class="op">=</span> <span class="kw">true</span><span class="op">,</span> testAfter <span class="op">=</span> <span class="kw">true</span> } <span class="op">=</span> args <span class="op">||</span> {}<span class="op">;</span></span>
<span id="cb14-613"><a href="#cb14-613" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-614"><a href="#cb14-614" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb14-615"><a href="#cb14-615" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> results <span class="op">=</span> {</span>
<span id="cb14-616"><a href="#cb14-616" aria-hidden="true" tabindex="-1"></a>        strategy<span class="op">,</span></span>
<span id="cb14-617"><a href="#cb14-617" aria-hidden="true" tabindex="-1"></a>        dryRun<span class="op">,</span></span>
<span id="cb14-618"><a href="#cb14-618" aria-hidden="true" tabindex="-1"></a>        <span class="dt">timestamp</span><span class="op">:</span> <span class="kw">new</span> <span class="bu">Date</span>()<span class="op">.</span><span class="fu">toISOString</span>()<span class="op">,</span></span>
<span id="cb14-619"><a href="#cb14-619" aria-hidden="true" tabindex="-1"></a>        <span class="dt">updates</span><span class="op">:</span> []<span class="op">,</span></span>
<span id="cb14-620"><a href="#cb14-620" aria-hidden="true" tabindex="-1"></a>        <span class="dt">conflicts</span><span class="op">:</span> []<span class="op">,</span></span>
<span id="cb14-621"><a href="#cb14-621" aria-hidden="true" tabindex="-1"></a>        <span class="dt">testResults</span><span class="op">:</span> <span class="kw">null</span></span>
<span id="cb14-622"><a href="#cb14-622" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-623"><a href="#cb14-623" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-624"><a href="#cb14-624" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Get list of outdated packages</span></span>
<span id="cb14-625"><a href="#cb14-625" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> { <span class="dt">stdout</span><span class="op">:</span> outdated } <span class="op">=</span> <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="st">&#39;npm outdated --json&#39;</span>)<span class="op">.</span><span class="fu">catch</span>(() <span class="kw">=&gt;</span> ({ <span class="dt">stdout</span><span class="op">:</span> <span class="st">&#39;{}&#39;</span> }))<span class="op">;</span></span>
<span id="cb14-626"><a href="#cb14-626" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> outdatedPackages <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>(outdated)<span class="op">;</span></span>
<span id="cb14-627"><a href="#cb14-627" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-628"><a href="#cb14-628" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Filter packages based on strategy</span></span>
<span id="cb14-629"><a href="#cb14-629" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> packagesToUpdate <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="fu">filterPackagesByStrategy</span>(outdatedPackages<span class="op">,</span> strategy)<span class="op">;</span></span>
<span id="cb14-630"><a href="#cb14-630" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-631"><a href="#cb14-631" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (packagesToUpdate<span class="op">.</span><span class="at">length</span> <span class="op">===</span> <span class="dv">0</span>) {</span>
<span id="cb14-632"><a href="#cb14-632" aria-hidden="true" tabindex="-1"></a>        results<span class="op">.</span><span class="at">message</span> <span class="op">=</span> <span class="st">&#39;No packages to update based on strategy&#39;</span><span class="op">;</span></span>
<span id="cb14-633"><a href="#cb14-633" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> {</span>
<span id="cb14-634"><a href="#cb14-634" aria-hidden="true" tabindex="-1"></a>          <span class="dt">content</span><span class="op">:</span> [{ <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;text&#39;</span><span class="op">,</span> <span class="dt">text</span><span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>(results<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">2</span>) }]</span>
<span id="cb14-635"><a href="#cb14-635" aria-hidden="true" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb14-636"><a href="#cb14-636" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-637"><a href="#cb14-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-638"><a href="#cb14-638" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Perform updates</span></span>
<span id="cb14-639"><a href="#cb14-639" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (dryRun) {</span>
<span id="cb14-640"><a href="#cb14-640" aria-hidden="true" tabindex="-1"></a>        results<span class="op">.</span><span class="at">plannedUpdates</span> <span class="op">=</span> packagesToUpdate<span class="op">.</span><span class="fu">map</span>(pkg <span class="kw">=&gt;</span> ({</span>
<span id="cb14-641"><a href="#cb14-641" aria-hidden="true" tabindex="-1"></a>          <span class="dt">name</span><span class="op">:</span> pkg<span class="op">.</span><span class="at">name</span><span class="op">,</span></span>
<span id="cb14-642"><a href="#cb14-642" aria-hidden="true" tabindex="-1"></a>          <span class="dt">current</span><span class="op">:</span> pkg<span class="op">.</span><span class="at">current</span><span class="op">,</span></span>
<span id="cb14-643"><a href="#cb14-643" aria-hidden="true" tabindex="-1"></a>          <span class="dt">wanted</span><span class="op">:</span> pkg<span class="op">.</span><span class="at">wanted</span><span class="op">,</span></span>
<span id="cb14-644"><a href="#cb14-644" aria-hidden="true" tabindex="-1"></a>          <span class="dt">latest</span><span class="op">:</span> pkg<span class="op">.</span><span class="at">latest</span><span class="op">,</span></span>
<span id="cb14-645"><a href="#cb14-645" aria-hidden="true" tabindex="-1"></a>          <span class="dt">updateType</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">getUpdateType</span>(pkg<span class="op">.</span><span class="at">current</span><span class="op">,</span> pkg<span class="op">.</span><span class="at">wanted</span>)</span>
<span id="cb14-646"><a href="#cb14-646" aria-hidden="true" tabindex="-1"></a>        }))<span class="op">;</span></span>
<span id="cb14-647"><a href="#cb14-647" aria-hidden="true" tabindex="-1"></a>      } <span class="cf">else</span> {</span>
<span id="cb14-648"><a href="#cb14-648" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Backup package.json</span></span>
<span id="cb14-649"><a href="#cb14-649" aria-hidden="true" tabindex="-1"></a>        <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="st">&#39;cp package.json package.json.backup&#39;</span>)<span class="op">;</span></span>
<span id="cb14-650"><a href="#cb14-650" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb14-651"><a href="#cb14-651" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span> {</span>
<span id="cb14-652"><a href="#cb14-652" aria-hidden="true" tabindex="-1"></a>          <span class="co">// Apply updates</span></span>
<span id="cb14-653"><a href="#cb14-653" aria-hidden="true" tabindex="-1"></a>          <span class="cf">for</span> (<span class="kw">const</span> pkg <span class="kw">of</span> packagesToUpdate) {</span>
<span id="cb14-654"><a href="#cb14-654" aria-hidden="true" tabindex="-1"></a>            <span class="kw">const</span> updateCmd <span class="op">=</span> <span class="vs">`npm install </span><span class="sc">${</span>pkg<span class="op">.</span><span class="at">name</span><span class="sc">}</span><span class="vs">@</span><span class="sc">${</span>pkg<span class="op">.</span><span class="at">wanted</span><span class="sc">}</span><span class="vs">`</span><span class="op">;</span></span>
<span id="cb14-655"><a href="#cb14-655" aria-hidden="true" tabindex="-1"></a>            <span class="cf">await</span> <span class="fu">execAsync</span>(updateCmd)<span class="op">;</span></span>
<span id="cb14-656"><a href="#cb14-656" aria-hidden="true" tabindex="-1"></a>            results<span class="op">.</span><span class="at">updates</span><span class="op">.</span><span class="fu">push</span>({</span>
<span id="cb14-657"><a href="#cb14-657" aria-hidden="true" tabindex="-1"></a>              <span class="dt">name</span><span class="op">:</span> pkg<span class="op">.</span><span class="at">name</span><span class="op">,</span></span>
<span id="cb14-658"><a href="#cb14-658" aria-hidden="true" tabindex="-1"></a>              <span class="dt">from</span><span class="op">:</span> pkg<span class="op">.</span><span class="at">current</span><span class="op">,</span></span>
<span id="cb14-659"><a href="#cb14-659" aria-hidden="true" tabindex="-1"></a>              <span class="dt">to</span><span class="op">:</span> pkg<span class="op">.</span><span class="at">wanted</span><span class="op">,</span></span>
<span id="cb14-660"><a href="#cb14-660" aria-hidden="true" tabindex="-1"></a>              <span class="dt">status</span><span class="op">:</span> <span class="st">&#39;success&#39;</span></span>
<span id="cb14-661"><a href="#cb14-661" aria-hidden="true" tabindex="-1"></a>            })<span class="op">;</span></span>
<span id="cb14-662"><a href="#cb14-662" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-663"><a href="#cb14-663" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-664"><a href="#cb14-664" aria-hidden="true" tabindex="-1"></a>          <span class="co">// Run tests if requested</span></span>
<span id="cb14-665"><a href="#cb14-665" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> (testAfter) {</span>
<span id="cb14-666"><a href="#cb14-666" aria-hidden="true" tabindex="-1"></a>            <span class="cf">try</span> {</span>
<span id="cb14-667"><a href="#cb14-667" aria-hidden="true" tabindex="-1"></a>              <span class="kw">const</span> { <span class="dt">stdout</span><span class="op">:</span> testOutput } <span class="op">=</span> <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="st">&#39;npm test&#39;</span>)<span class="op">;</span></span>
<span id="cb14-668"><a href="#cb14-668" aria-hidden="true" tabindex="-1"></a>              results<span class="op">.</span><span class="at">testResults</span> <span class="op">=</span> { <span class="dt">status</span><span class="op">:</span> <span class="st">&#39;passed&#39;</span><span class="op">,</span> <span class="dt">output</span><span class="op">:</span> testOutput }<span class="op">;</span></span>
<span id="cb14-669"><a href="#cb14-669" aria-hidden="true" tabindex="-1"></a>            } <span class="cf">catch</span> (testError) {</span>
<span id="cb14-670"><a href="#cb14-670" aria-hidden="true" tabindex="-1"></a>              results<span class="op">.</span><span class="at">testResults</span> <span class="op">=</span> { <span class="dt">status</span><span class="op">:</span> <span class="st">&#39;failed&#39;</span><span class="op">,</span> <span class="dt">error</span><span class="op">:</span> testError<span class="op">.</span><span class="at">message</span> }<span class="op">;</span></span>
<span id="cb14-671"><a href="#cb14-671" aria-hidden="true" tabindex="-1"></a>              <span class="co">// Restore backup on test failure</span></span>
<span id="cb14-672"><a href="#cb14-672" aria-hidden="true" tabindex="-1"></a>              <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="st">&#39;cp package.json.backup package.json&#39;</span>)<span class="op">;</span></span>
<span id="cb14-673"><a href="#cb14-673" aria-hidden="true" tabindex="-1"></a>              <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="st">&#39;npm install&#39;</span>)<span class="op">;</span></span>
<span id="cb14-674"><a href="#cb14-674" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb14-675"><a href="#cb14-675" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-676"><a href="#cb14-676" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">catch</span> (updateError) {</span>
<span id="cb14-677"><a href="#cb14-677" aria-hidden="true" tabindex="-1"></a>          <span class="co">// Restore backup on update failure</span></span>
<span id="cb14-678"><a href="#cb14-678" aria-hidden="true" tabindex="-1"></a>          <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="st">&#39;cp package.json.backup package.json&#39;</span>)<span class="op">;</span></span>
<span id="cb14-679"><a href="#cb14-679" aria-hidden="true" tabindex="-1"></a>          <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="st">&#39;npm install&#39;</span>)<span class="op">;</span></span>
<span id="cb14-680"><a href="#cb14-680" aria-hidden="true" tabindex="-1"></a>          <span class="cf">throw</span> updateError<span class="op">;</span></span>
<span id="cb14-681"><a href="#cb14-681" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb14-682"><a href="#cb14-682" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-683"><a href="#cb14-683" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-684"><a href="#cb14-684" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> {</span>
<span id="cb14-685"><a href="#cb14-685" aria-hidden="true" tabindex="-1"></a>        <span class="dt">content</span><span class="op">:</span> [</span>
<span id="cb14-686"><a href="#cb14-686" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb14-687"><a href="#cb14-687" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;text&#39;</span><span class="op">,</span></span>
<span id="cb14-688"><a href="#cb14-688" aria-hidden="true" tabindex="-1"></a>            <span class="dt">text</span><span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>(results<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb14-689"><a href="#cb14-689" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-690"><a href="#cb14-690" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb14-691"><a href="#cb14-691" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-692"><a href="#cb14-692" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb14-693"><a href="#cb14-693" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="vs">`Package update failed: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-694"><a href="#cb14-694" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-695"><a href="#cb14-695" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-696"><a href="#cb14-696" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-697"><a href="#cb14-697" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">analyzePackageHealth</span>(args) {</span>
<span id="cb14-698"><a href="#cb14-698" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> { includeMetrics <span class="op">=</span> <span class="kw">true</span> } <span class="op">=</span> args <span class="op">||</span> {}<span class="op">;</span></span>
<span id="cb14-699"><a href="#cb14-699" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-700"><a href="#cb14-700" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb14-701"><a href="#cb14-701" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Read package.json</span></span>
<span id="cb14-702"><a href="#cb14-702" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> packageJson <span class="op">=</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">parse</span>(<span class="cf">await</span> fs<span class="op">.</span><span class="fu">readFile</span>(<span class="st">&#39;package.json&#39;</span><span class="op">,</span> <span class="st">&#39;utf8&#39;</span>))<span class="op">;</span></span>
<span id="cb14-703"><a href="#cb14-703" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> dependencies <span class="op">=</span> { <span class="op">...</span>packageJson<span class="op">.</span><span class="at">dependencies</span><span class="op">,</span> <span class="op">...</span>packageJson<span class="op">.</span><span class="at">devDependencies</span> }<span class="op">;</span></span>
<span id="cb14-704"><a href="#cb14-704" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-705"><a href="#cb14-705" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> healthAnalysis <span class="op">=</span> {</span>
<span id="cb14-706"><a href="#cb14-706" aria-hidden="true" tabindex="-1"></a>        <span class="dt">overview</span><span class="op">:</span> {</span>
<span id="cb14-707"><a href="#cb14-707" aria-hidden="true" tabindex="-1"></a>          <span class="dt">totalPackages</span><span class="op">:</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(dependencies)<span class="op">.</span><span class="at">length</span><span class="op">,</span></span>
<span id="cb14-708"><a href="#cb14-708" aria-hidden="true" tabindex="-1"></a>          <span class="dt">productionDeps</span><span class="op">:</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(packageJson<span class="op">.</span><span class="at">dependencies</span> <span class="op">||</span> {})<span class="op">.</span><span class="at">length</span><span class="op">,</span></span>
<span id="cb14-709"><a href="#cb14-709" aria-hidden="true" tabindex="-1"></a>          <span class="dt">devDeps</span><span class="op">:</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(packageJson<span class="op">.</span><span class="at">devDependencies</span> <span class="op">||</span> {})<span class="op">.</span><span class="at">length</span></span>
<span id="cb14-710"><a href="#cb14-710" aria-hidden="true" tabindex="-1"></a>        }<span class="op">,</span></span>
<span id="cb14-711"><a href="#cb14-711" aria-hidden="true" tabindex="-1"></a>        <span class="dt">healthScore</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb14-712"><a href="#cb14-712" aria-hidden="true" tabindex="-1"></a>        <span class="dt">issues</span><span class="op">:</span> []<span class="op">,</span></span>
<span id="cb14-713"><a href="#cb14-713" aria-hidden="true" tabindex="-1"></a>        <span class="dt">recommendations</span><span class="op">:</span> []</span>
<span id="cb14-714"><a href="#cb14-714" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-715"><a href="#cb14-715" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-716"><a href="#cb14-716" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Analyze each package</span></span>
<span id="cb14-717"><a href="#cb14-717" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> packageAnalysis <span class="op">=</span> []<span class="op">;</span></span>
<span id="cb14-718"><a href="#cb14-718" aria-hidden="true" tabindex="-1"></a>      <span class="cf">for</span> (<span class="kw">const</span> [name<span class="op">,</span> version] <span class="kw">of</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">entries</span>(dependencies)) {</span>
<span id="cb14-719"><a href="#cb14-719" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> analysis <span class="op">=</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">analyzeIndividualPackage</span>(name<span class="op">,</span> version<span class="op">,</span> includeMetrics)<span class="op">;</span></span>
<span id="cb14-720"><a href="#cb14-720" aria-hidden="true" tabindex="-1"></a>        packageAnalysis<span class="op">.</span><span class="fu">push</span>(analysis)<span class="op">;</span></span>
<span id="cb14-721"><a href="#cb14-721" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-722"><a href="#cb14-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-723"><a href="#cb14-723" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Calculate overall health score</span></span>
<span id="cb14-724"><a href="#cb14-724" aria-hidden="true" tabindex="-1"></a>      healthAnalysis<span class="op">.</span><span class="at">healthScore</span> <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="fu">calculateHealthScore</span>(packageAnalysis)<span class="op">;</span></span>
<span id="cb14-725"><a href="#cb14-725" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-726"><a href="#cb14-726" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Identify issues</span></span>
<span id="cb14-727"><a href="#cb14-727" aria-hidden="true" tabindex="-1"></a>      healthAnalysis<span class="op">.</span><span class="at">issues</span> <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="fu">identifyPackageIssues</span>(packageAnalysis)<span class="op">;</span></span>
<span id="cb14-728"><a href="#cb14-728" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-729"><a href="#cb14-729" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Generate recommendations</span></span>
<span id="cb14-730"><a href="#cb14-730" aria-hidden="true" tabindex="-1"></a>      healthAnalysis<span class="op">.</span><span class="at">recommendations</span> <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="fu">generatePackageRecommendations</span>(packageAnalysis)<span class="op">;</span></span>
<span id="cb14-731"><a href="#cb14-731" aria-hidden="true" tabindex="-1"></a>      </span>
<span id="cb14-732"><a href="#cb14-732" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Bundle size analysis</span></span>
<span id="cb14-733"><a href="#cb14-733" aria-hidden="true" tabindex="-1"></a>      healthAnalysis<span class="op">.</span><span class="at">bundleImpact</span> <span class="op">=</span> <span class="cf">await</span> <span class="kw">this</span><span class="op">.</span><span class="fu">analyzeBundleImpact</span>(dependencies)<span class="op">;</span></span>
<span id="cb14-734"><a href="#cb14-734" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-735"><a href="#cb14-735" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span> {</span>
<span id="cb14-736"><a href="#cb14-736" aria-hidden="true" tabindex="-1"></a>        <span class="dt">content</span><span class="op">:</span> [</span>
<span id="cb14-737"><a href="#cb14-737" aria-hidden="true" tabindex="-1"></a>          {</span>
<span id="cb14-738"><a href="#cb14-738" aria-hidden="true" tabindex="-1"></a>            <span class="dt">type</span><span class="op">:</span> <span class="st">&#39;text&#39;</span><span class="op">,</span></span>
<span id="cb14-739"><a href="#cb14-739" aria-hidden="true" tabindex="-1"></a>            <span class="dt">text</span><span class="op">:</span> <span class="bu">JSON</span><span class="op">.</span><span class="fu">stringify</span>(healthAnalysis<span class="op">,</span> <span class="kw">null</span><span class="op">,</span> <span class="dv">2</span>)</span>
<span id="cb14-740"><a href="#cb14-740" aria-hidden="true" tabindex="-1"></a>          }</span>
<span id="cb14-741"><a href="#cb14-741" aria-hidden="true" tabindex="-1"></a>        ]</span>
<span id="cb14-742"><a href="#cb14-742" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-743"><a href="#cb14-743" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb14-744"><a href="#cb14-744" aria-hidden="true" tabindex="-1"></a>      <span class="cf">throw</span> <span class="kw">new</span> <span class="bu">Error</span>(<span class="vs">`Package health analysis failed: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-745"><a href="#cb14-745" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-746"><a href="#cb14-746" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-747"><a href="#cb14-747" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-748"><a href="#cb14-748" aria-hidden="true" tabindex="-1"></a>  <span class="fu">categorizeOutdatedPackages</span>(packages) {</span>
<span id="cb14-749"><a href="#cb14-749" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> categories <span class="op">=</span> {</span>
<span id="cb14-750"><a href="#cb14-750" aria-hidden="true" tabindex="-1"></a>      <span class="dt">major</span><span class="op">:</span> []<span class="op">,</span></span>
<span id="cb14-751"><a href="#cb14-751" aria-hidden="true" tabindex="-1"></a>      <span class="dt">minor</span><span class="op">:</span> []<span class="op">,</span></span>
<span id="cb14-752"><a href="#cb14-752" aria-hidden="true" tabindex="-1"></a>      <span class="dt">patch</span><span class="op">:</span> []<span class="op">,</span></span>
<span id="cb14-753"><a href="#cb14-753" aria-hidden="true" tabindex="-1"></a>      <span class="dt">prerelease</span><span class="op">:</span> []</span>
<span id="cb14-754"><a href="#cb14-754" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb14-755"><a href="#cb14-755" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-756"><a href="#cb14-756" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (<span class="kw">const</span> [name<span class="op">,</span> info] <span class="kw">of</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">entries</span>(packages)) {</span>
<span id="cb14-757"><a href="#cb14-757" aria-hidden="true" tabindex="-1"></a>      <span class="kw">const</span> updateType <span class="op">=</span> <span class="kw">this</span><span class="op">.</span><span class="fu">getUpdateType</span>(info<span class="op">.</span><span class="at">current</span><span class="op">,</span> info<span class="op">.</span><span class="at">wanted</span>)<span class="op">;</span></span>
<span id="cb14-758"><a href="#cb14-758" aria-hidden="true" tabindex="-1"></a>      categories[updateType]<span class="op">.</span><span class="fu">push</span>({ name<span class="op">,</span> <span class="op">...</span>info })<span class="op">;</span></span>
<span id="cb14-759"><a href="#cb14-759" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-760"><a href="#cb14-760" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-761"><a href="#cb14-761" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> categories<span class="op">;</span></span>
<span id="cb14-762"><a href="#cb14-762" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-763"><a href="#cb14-763" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-764"><a href="#cb14-764" aria-hidden="true" tabindex="-1"></a>  <span class="fu">findCriticalUpdates</span>(packages) {</span>
<span id="cb14-765"><a href="#cb14-765" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">entries</span>(packages)</span>
<span id="cb14-766"><a href="#cb14-766" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">filter</span>(([name<span class="op">,</span> info]) <span class="kw">=&gt;</span> {</span>
<span id="cb14-767"><a href="#cb14-767" aria-hidden="true" tabindex="-1"></a>        <span class="co">// Critical security packages or major framework updates</span></span>
<span id="cb14-768"><a href="#cb14-768" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> criticalPackages <span class="op">=</span> [<span class="st">&#39;react&#39;</span><span class="op">,</span> <span class="st">&#39;next&#39;</span><span class="op">,</span> <span class="st">&#39;express&#39;</span><span class="op">,</span> <span class="st">&#39;lodash&#39;</span><span class="op">,</span> <span class="st">&#39;@types/node&#39;</span>]<span class="op">;</span></span>
<span id="cb14-769"><a href="#cb14-769" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> criticalPackages<span class="op">.</span><span class="fu">includes</span>(name) <span class="op">||</span> <span class="kw">this</span><span class="op">.</span><span class="fu">getUpdateType</span>(info<span class="op">.</span><span class="at">current</span><span class="op">,</span> info<span class="op">.</span><span class="at">wanted</span>) <span class="op">===</span> <span class="st">&#39;major&#39;</span><span class="op">;</span></span>
<span id="cb14-770"><a href="#cb14-770" aria-hidden="true" tabindex="-1"></a>      })</span>
<span id="cb14-771"><a href="#cb14-771" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">map</span>(([name<span class="op">,</span> info]) <span class="kw">=&gt;</span> ({ name<span class="op">,</span> <span class="op">...</span>info }))<span class="op">;</span></span>
<span id="cb14-772"><a href="#cb14-772" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-773"><a href="#cb14-773" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-774"><a href="#cb14-774" aria-hidden="true" tabindex="-1"></a>  <span class="fu">processAuditResults</span>(auditResult<span class="op">,</span> minSeverity) {</span>
<span id="cb14-775"><a href="#cb14-775" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> severityLevels <span class="op">=</span> { <span class="dt">info</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">low</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">moderate</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span> <span class="dt">high</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span> <span class="dt">critical</span><span class="op">:</span> <span class="dv">4</span> }<span class="op">;</span></span>
<span id="cb14-776"><a href="#cb14-776" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> minLevel <span class="op">=</span> severityLevels[minSeverity]<span class="op">;</span></span>
<span id="cb14-777"><a href="#cb14-777" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-778"><a href="#cb14-778" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> vulnerabilities <span class="op">=</span> auditResult<span class="op">.</span><span class="at">vulnerabilities</span> <span class="op">||</span> {}<span class="op">;</span></span>
<span id="cb14-779"><a href="#cb14-779" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> filtered <span class="op">=</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">entries</span>(vulnerabilities)</span>
<span id="cb14-780"><a href="#cb14-780" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">filter</span>(([_<span class="op">,</span> vuln]) <span class="kw">=&gt;</span> severityLevels[vuln<span class="op">.</span><span class="at">severity</span>] <span class="op">&gt;=</span> minLevel)</span>
<span id="cb14-781"><a href="#cb14-781" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">reduce</span>((acc<span class="op">,</span> [key<span class="op">,</span> value]) <span class="kw">=&gt;</span> {</span>
<span id="cb14-782"><a href="#cb14-782" aria-hidden="true" tabindex="-1"></a>        acc[key] <span class="op">=</span> value<span class="op">;</span></span>
<span id="cb14-783"><a href="#cb14-783" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> acc<span class="op">;</span></span>
<span id="cb14-784"><a href="#cb14-784" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span> {})<span class="op">;</span></span>
<span id="cb14-785"><a href="#cb14-785" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-786"><a href="#cb14-786" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb14-787"><a href="#cb14-787" aria-hidden="true" tabindex="-1"></a>      <span class="dt">total</span><span class="op">:</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(vulnerabilities)<span class="op">.</span><span class="at">length</span><span class="op">,</span></span>
<span id="cb14-788"><a href="#cb14-788" aria-hidden="true" tabindex="-1"></a>      <span class="dt">filtered</span><span class="op">:</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(filtered)<span class="op">.</span><span class="at">length</span><span class="op">,</span></span>
<span id="cb14-789"><a href="#cb14-789" aria-hidden="true" tabindex="-1"></a>      <span class="dt">bySeverity</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">groupVulnerabilitiesBySeverity</span>(vulnerabilities)<span class="op">,</span></span>
<span id="cb14-790"><a href="#cb14-790" aria-hidden="true" tabindex="-1"></a>      <span class="dt">details</span><span class="op">:</span> filtered</span>
<span id="cb14-791"><a href="#cb14-791" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb14-792"><a href="#cb14-792" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-793"><a href="#cb14-793" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-794"><a href="#cb14-794" aria-hidden="true" tabindex="-1"></a>  <span class="fu">generateDependencySummary</span>(results) {</span>
<span id="cb14-795"><a href="#cb14-795" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> summary <span class="op">=</span> {</span>
<span id="cb14-796"><a href="#cb14-796" aria-hidden="true" tabindex="-1"></a>      <span class="dt">status</span><span class="op">:</span> <span class="st">&#39;healthy&#39;</span><span class="op">,</span></span>
<span id="cb14-797"><a href="#cb14-797" aria-hidden="true" tabindex="-1"></a>      <span class="dt">score</span><span class="op">:</span> <span class="dv">100</span><span class="op">,</span></span>
<span id="cb14-798"><a href="#cb14-798" aria-hidden="true" tabindex="-1"></a>      <span class="dt">issues</span><span class="op">:</span> []</span>
<span id="cb14-799"><a href="#cb14-799" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb14-800"><a href="#cb14-800" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-801"><a href="#cb14-801" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Deduct points for outdated packages</span></span>
<span id="cb14-802"><a href="#cb14-802" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (results<span class="op">.</span><span class="at">outdated</span><span class="op">.</span><span class="at">count</span> <span class="op">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb14-803"><a href="#cb14-803" aria-hidden="true" tabindex="-1"></a>      summary<span class="op">.</span><span class="at">score</span> <span class="op">-=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(results<span class="op">.</span><span class="at">outdated</span><span class="op">.</span><span class="at">count</span> <span class="op">*</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">30</span>)<span class="op">;</span></span>
<span id="cb14-804"><a href="#cb14-804" aria-hidden="true" tabindex="-1"></a>      summary<span class="op">.</span><span class="at">issues</span><span class="op">.</span><span class="fu">push</span>(<span class="vs">`</span><span class="sc">${</span>results<span class="op">.</span><span class="at">outdated</span><span class="op">.</span><span class="at">count</span><span class="sc">}</span><span class="vs"> outdated packages`</span>)<span class="op">;</span></span>
<span id="cb14-805"><a href="#cb14-805" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-806"><a href="#cb14-806" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-807"><a href="#cb14-807" aria-hidden="true" tabindex="-1"></a>    <span class="co">// Deduct points for vulnerabilities</span></span>
<span id="cb14-808"><a href="#cb14-808" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> vulnCount <span class="op">=</span> results<span class="op">.</span><span class="at">vulnerabilities</span><span class="op">.</span><span class="at">filtered</span> <span class="op">||</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb14-809"><a href="#cb14-809" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (vulnCount <span class="op">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb14-810"><a href="#cb14-810" aria-hidden="true" tabindex="-1"></a>      summary<span class="op">.</span><span class="at">score</span> <span class="op">-=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">min</span>(vulnCount <span class="op">*</span> <span class="dv">10</span><span class="op">,</span> <span class="dv">50</span>)<span class="op">;</span></span>
<span id="cb14-811"><a href="#cb14-811" aria-hidden="true" tabindex="-1"></a>      summary<span class="op">.</span><span class="at">issues</span><span class="op">.</span><span class="fu">push</span>(<span class="vs">`</span><span class="sc">${</span>vulnCount<span class="sc">}</span><span class="vs"> security vulnerabilities`</span>)<span class="op">;</span></span>
<span id="cb14-812"><a href="#cb14-812" aria-hidden="true" tabindex="-1"></a>      summary<span class="op">.</span><span class="at">status</span> <span class="op">=</span> vulnCount <span class="op">&gt;</span> <span class="dv">5</span> <span class="op">?</span> <span class="st">&#39;critical&#39;</span> <span class="op">:</span> <span class="st">&#39;warning&#39;</span><span class="op">;</span></span>
<span id="cb14-813"><a href="#cb14-813" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-814"><a href="#cb14-814" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-815"><a href="#cb14-815" aria-hidden="true" tabindex="-1"></a>    summary<span class="op">.</span><span class="at">score</span> <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(summary<span class="op">.</span><span class="at">score</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb14-816"><a href="#cb14-816" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-817"><a href="#cb14-817" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (summary<span class="op">.</span><span class="at">score</span> <span class="op">&gt;=</span> <span class="dv">80</span>) summary<span class="op">.</span><span class="at">status</span> <span class="op">=</span> <span class="st">&#39;healthy&#39;</span><span class="op">;</span></span>
<span id="cb14-818"><a href="#cb14-818" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> <span class="cf">if</span> (summary<span class="op">.</span><span class="at">score</span> <span class="op">&gt;=</span> <span class="dv">60</span>) summary<span class="op">.</span><span class="at">status</span> <span class="op">=</span> <span class="st">&#39;warning&#39;</span><span class="op">;</span></span>
<span id="cb14-819"><a href="#cb14-819" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span> summary<span class="op">.</span><span class="at">status</span> <span class="op">=</span> <span class="st">&#39;critical&#39;</span><span class="op">;</span></span>
<span id="cb14-820"><a href="#cb14-820" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-821"><a href="#cb14-821" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> summary<span class="op">;</span></span>
<span id="cb14-822"><a href="#cb14-822" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-823"><a href="#cb14-823" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-824"><a href="#cb14-824" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">applyDependencyFixes</span>(packageManager<span class="op">,</span> results) {</span>
<span id="cb14-825"><a href="#cb14-825" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> fixes <span class="op">=</span> { <span class="dt">applied</span><span class="op">:</span> []<span class="op">,</span> <span class="dt">failed</span><span class="op">:</span> [] }<span class="op">;</span></span>
<span id="cb14-826"><a href="#cb14-826" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-827"><a href="#cb14-827" aria-hidden="true" tabindex="-1"></a>    <span class="cf">try</span> {</span>
<span id="cb14-828"><a href="#cb14-828" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Fix security vulnerabilities first</span></span>
<span id="cb14-829"><a href="#cb14-829" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (results<span class="op">.</span><span class="at">vulnerabilities</span><span class="op">.</span><span class="at">filtered</span> <span class="op">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb14-830"><a href="#cb14-830" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> auditFixCmd <span class="op">=</span> {</span>
<span id="cb14-831"><a href="#cb14-831" aria-hidden="true" tabindex="-1"></a>          <span class="dt">npm</span><span class="op">:</span> <span class="st">&#39;npm audit fix&#39;</span><span class="op">,</span></span>
<span id="cb14-832"><a href="#cb14-832" aria-hidden="true" tabindex="-1"></a>          <span class="dt">yarn</span><span class="op">:</span> <span class="st">&#39;yarn audit fix&#39;</span><span class="op">,</span></span>
<span id="cb14-833"><a href="#cb14-833" aria-hidden="true" tabindex="-1"></a>          <span class="dt">pnpm</span><span class="op">:</span> <span class="st">&#39;pnpm audit --fix&#39;</span></span>
<span id="cb14-834"><a href="#cb14-834" aria-hidden="true" tabindex="-1"></a>        }[packageManager]<span class="op">;</span></span>
<span id="cb14-835"><a href="#cb14-835" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-836"><a href="#cb14-836" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span> {</span>
<span id="cb14-837"><a href="#cb14-837" aria-hidden="true" tabindex="-1"></a>          <span class="cf">await</span> <span class="fu">execAsync</span>(auditFixCmd)<span class="op">;</span></span>
<span id="cb14-838"><a href="#cb14-838" aria-hidden="true" tabindex="-1"></a>          fixes<span class="op">.</span><span class="at">applied</span><span class="op">.</span><span class="fu">push</span>(<span class="st">&#39;Security vulnerabilities fixed&#39;</span>)<span class="op">;</span></span>
<span id="cb14-839"><a href="#cb14-839" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">catch</span> (error) {</span>
<span id="cb14-840"><a href="#cb14-840" aria-hidden="true" tabindex="-1"></a>          fixes<span class="op">.</span><span class="at">failed</span><span class="op">.</span><span class="fu">push</span>(<span class="vs">`Audit fix failed: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-841"><a href="#cb14-841" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb14-842"><a href="#cb14-842" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-843"><a href="#cb14-843" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-844"><a href="#cb14-844" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Update patch-level dependencies</span></span>
<span id="cb14-845"><a href="#cb14-845" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (results<span class="op">.</span><span class="at">outdated</span><span class="op">.</span><span class="at">packages</span><span class="op">.</span><span class="at">patch</span><span class="op">?.</span><span class="at">length</span> <span class="op">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb14-846"><a href="#cb14-846" aria-hidden="true" tabindex="-1"></a>        <span class="cf">try</span> {</span>
<span id="cb14-847"><a href="#cb14-847" aria-hidden="true" tabindex="-1"></a>          <span class="cf">await</span> <span class="fu">execAsync</span>(<span class="vs">`</span><span class="sc">${</span>packageManager<span class="sc">}</span><span class="vs"> update`</span>)<span class="op">;</span></span>
<span id="cb14-848"><a href="#cb14-848" aria-hidden="true" tabindex="-1"></a>          fixes<span class="op">.</span><span class="at">applied</span><span class="op">.</span><span class="fu">push</span>(<span class="st">&#39;Patch-level updates applied&#39;</span>)<span class="op">;</span></span>
<span id="cb14-849"><a href="#cb14-849" aria-hidden="true" tabindex="-1"></a>        } <span class="cf">catch</span> (error) {</span>
<span id="cb14-850"><a href="#cb14-850" aria-hidden="true" tabindex="-1"></a>          fixes<span class="op">.</span><span class="at">failed</span><span class="op">.</span><span class="fu">push</span>(<span class="vs">`Patch updates failed: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-851"><a href="#cb14-851" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb14-852"><a href="#cb14-852" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-853"><a href="#cb14-853" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-854"><a href="#cb14-854" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">catch</span> (error) {</span>
<span id="cb14-855"><a href="#cb14-855" aria-hidden="true" tabindex="-1"></a>      fixes<span class="op">.</span><span class="at">failed</span><span class="op">.</span><span class="fu">push</span>(<span class="vs">`General fix error: </span><span class="sc">${</span>error<span class="op">.</span><span class="at">message</span><span class="sc">}</span><span class="vs">`</span>)<span class="op">;</span></span>
<span id="cb14-856"><a href="#cb14-856" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-857"><a href="#cb14-857" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-858"><a href="#cb14-858" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> fixes<span class="op">;</span></span>
<span id="cb14-859"><a href="#cb14-859" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-860"><a href="#cb14-860" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-861"><a href="#cb14-861" aria-hidden="true" tabindex="-1"></a>  <span class="fu">getUpdateType</span>(current<span class="op">,</span> wanted) {</span>
<span id="cb14-862"><a href="#cb14-862" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span>current <span class="op">||</span> <span class="op">!</span>wanted) <span class="cf">return</span> <span class="st">&#39;unknown&#39;</span><span class="op">;</span></span>
<span id="cb14-863"><a href="#cb14-863" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-864"><a href="#cb14-864" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> currentParts <span class="op">=</span> current<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">[^0-9.]</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)<span class="op">.</span><span class="fu">split</span>(<span class="st">&#39;.&#39;</span>)<span class="op">;</span></span>
<span id="cb14-865"><a href="#cb14-865" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> wantedParts <span class="op">=</span> wanted<span class="op">.</span><span class="fu">replace</span>(<span class="ss">/</span><span class="sc">[^0-9.]</span><span class="ss">/g</span><span class="op">,</span> <span class="st">&#39;&#39;</span>)<span class="op">.</span><span class="fu">split</span>(<span class="st">&#39;.&#39;</span>)<span class="op">;</span></span>
<span id="cb14-866"><a href="#cb14-866" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-867"><a href="#cb14-867" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (currentParts[<span class="dv">0</span>] <span class="op">!==</span> wantedParts[<span class="dv">0</span>]) <span class="cf">return</span> <span class="st">&#39;major&#39;</span><span class="op">;</span></span>
<span id="cb14-868"><a href="#cb14-868" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (currentParts[<span class="dv">1</span>] <span class="op">!==</span> wantedParts[<span class="dv">1</span>]) <span class="cf">return</span> <span class="st">&#39;minor&#39;</span><span class="op">;</span></span>
<span id="cb14-869"><a href="#cb14-869" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (currentParts[<span class="dv">2</span>] <span class="op">!==</span> wantedParts[<span class="dv">2</span>]) <span class="cf">return</span> <span class="st">&#39;patch&#39;</span><span class="op">;</span></span>
<span id="cb14-870"><a href="#cb14-870" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-871"><a href="#cb14-871" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="st">&#39;prerelease&#39;</span><span class="op">;</span></span>
<span id="cb14-872"><a href="#cb14-872" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-873"><a href="#cb14-873" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-874"><a href="#cb14-874" aria-hidden="true" tabindex="-1"></a>  <span class="fu">analyzeSecurityAudit</span>(auditData) {</span>
<span id="cb14-875"><a href="#cb14-875" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb14-876"><a href="#cb14-876" aria-hidden="true" tabindex="-1"></a>      <span class="dt">totalVulnerabilities</span><span class="op">:</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(auditData<span class="op">.</span><span class="at">vulnerabilities</span> <span class="op">||</span> {})<span class="op">.</span><span class="at">length</span><span class="op">,</span></span>
<span id="cb14-877"><a href="#cb14-877" aria-hidden="true" tabindex="-1"></a>      <span class="dt">severity</span><span class="op">:</span> <span class="kw">this</span><span class="op">.</span><span class="fu">groupVulnerabilitiesBySeverity</span>(auditData<span class="op">.</span><span class="at">vulnerabilities</span> <span class="op">||</span> {})<span class="op">,</span></span>
<span id="cb14-878"><a href="#cb14-878" aria-hidden="true" tabindex="-1"></a>      <span class="dt">advisories</span><span class="op">:</span> auditData<span class="op">.</span><span class="at">advisories</span> <span class="op">||</span> {}<span class="op">,</span></span>
<span id="cb14-879"><a href="#cb14-879" aria-hidden="true" tabindex="-1"></a>      <span class="dt">metadata</span><span class="op">:</span> auditData<span class="op">.</span><span class="at">metadata</span> <span class="op">||</span> {}</span>
<span id="cb14-880"><a href="#cb14-880" aria-hidden="true" tabindex="-1"></a>    }<span class="op">;</span></span>
<span id="cb14-881"><a href="#cb14-881" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-882"><a href="#cb14-882" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-883"><a href="#cb14-883" aria-hidden="true" tabindex="-1"></a>  <span class="fu">groupVulnerabilitiesBySeverity</span>(vulnerabilities) {</span>
<span id="cb14-884"><a href="#cb14-884" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> groups <span class="op">=</span> { <span class="dt">info</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">low</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">moderate</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">high</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">critical</span><span class="op">:</span> <span class="dv">0</span> }<span class="op">;</span></span>
<span id="cb14-885"><a href="#cb14-885" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-886"><a href="#cb14-886" aria-hidden="true" tabindex="-1"></a>    <span class="bu">Object</span><span class="op">.</span><span class="fu">values</span>(vulnerabilities)<span class="op">.</span><span class="fu">forEach</span>(vuln <span class="kw">=&gt;</span> {</span>
<span id="cb14-887"><a href="#cb14-887" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (groups<span class="op">.</span><span class="fu">hasOwnProperty</span>(vuln<span class="op">.</span><span class="at">severity</span>)) {</span>
<span id="cb14-888"><a href="#cb14-888" aria-hidden="true" tabindex="-1"></a>        groups[vuln<span class="op">.</span><span class="at">severity</span>]<span class="op">++;</span></span>
<span id="cb14-889"><a href="#cb14-889" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb14-890"><a href="#cb14-890" aria-hidden="true" tabindex="-1"></a>    })<span class="op">;</span></span>
<span id="cb14-891"><a href="#cb14-891" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-892"><a href="#cb14-892" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> groups<span class="op">;</span></span>
<span id="cb14-893"><a href="#cb14-893" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-894"><a href="#cb14-894" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-895"><a href="#cb14-895" aria-hidden="true" tabindex="-1"></a>  <span class="kw">async</span> <span class="fu">analyzeIndividualPackage</span>(name<span class="op">,</span> version<span class="op">,</span> includeMetrics) {</span>
<span id="cb14-896"><a href="#cb14-896" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> analysis <span class="op">=</span> { name<span class="op">,</span> version<span class="op">,</span> <span class="dt">issues</span><span class="op">:</span> []<span class="op">,</span> <span class="dt">score</span><span class="op">:</span> <span class="dv">100</span> }<span class="op">;</span></span>
<span id="cb14-897"><a href="#cb14-897" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-898"><a href="#cb14-898" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (includeMetrics) {</span>
<span id="cb14-899"><a href="#cb14-899" aria-hidden="true" tabindex="-1"></a>      <span class="co">// This would typically call npm registry API</span></span>
<span id="cb14-900"><a href="#cb14-900" aria-hidden="true" tabindex="-1"></a>      <span class="co">// Simplified for example</span></span>
<span id="cb14-901"><a href="#cb14-901" aria-hidden="true" tabindex="-1"></a>      analysis<span class="op">.</span><span class="at">metrics</span> <span class="op">=</span> {</span>
<span id="cb14-902"><a href="#cb14-902" aria-hidden="true" tabindex="-1"></a>        <span class="dt">weeklyDownloads</span><span class="op">:</span> <span class="st">&#39;unknown&#39;</span><span class="op">,</span></span>
<span id="cb14-903"><a href="#cb14-903" aria-hidden="true" tabindex="-1"></a>        <span class="dt">lastPublished</span><span class="op">:</span> <span class="st">&#39;unknown&#39;</span><span class="op">,</span></span>
<span id="cb14-904"><a href="#cb14-904" aria-hidden="true" tabindex="-1"></a>        <span class="dt">maintainers</span><span class="op">:</span> <span class="st">&#39;unknown&#39;</span></span>
<span id="cb14-905"><a href="#cb14-905" aria-hidden="true" tabindex="-1"></a>      }<span class="op">;</span></span>
<span id="cb14-906"><a href="#cb14-906" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb14-907"><a href="#cb14-907" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-908"><a href="#cb14-908" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> analysis<span class="op">;</span></span>
<span id="cb14-909"><a href="#cb14-909" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-910"><a href="#cb14-910" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-911"><a href="#cb14-911" aria-hidden="true" tabindex="-1"></a>  <span class="fu">calculateHealthScore</span>(packageAnalysis) {</span>
<span id="cb14-912"><a href="#cb14-912" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (packageAnalysis<span class="op">.</span><span class="at">length</span> <span class="op">===</span> <span class="dv">0</span>) <span class="cf">return</span> <span class="dv">100</span><span class="op">;</span></span>
<span id="cb14-913"><a href="#cb14-913" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb14-914"><a href="#cb14-914" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> totalScore <span class="op">=</span> packageAnalysis<span class="op">.</span><span class="fu">reduce</span>((sum<span class="op">,</span> pkg) <span class="kw">=&gt;</span> sum <span class="op">+</span> pkg<span class="op">.</span><span class="at">score</span><span class="op">,</span> <span class="dv">0</span>)<span class="op">;</span></span>
<span id="cb14-915"><a href="#cb14-915" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">round</span>(totalScore <span class="op">/</span> packageAnalysis<span class="op">.</span><span class="at">length</span>)<span class="op">;</span></span>
<span id="cb14-916"><a href="#cb14-916" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb14-917"><a href="#cb14-917" aria-hidden="</div><hr>
<div class='chapter'>
</div><hr>
<div class='chapter'>
</div><hr>
<div class='chapter'>
</div><hr>
<div class='chapter'>
</div><hr>
<div class='chapter'>
</div><hr>
<div class='chapter'>
</div><hr>
<div class='chapter'>
</div><hr>
<div class='chapter'>
</div><hr>
<h1>Examples</h1>
<div class='chapter'>
</div><hr>
<div class='chapter'>
</div><hr>
<div class='chapter'>
</div><hr>
<h1>Appendix</h1>
<div class='chapter'>
</div><hr>
</body>
</html>
